<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>SARScape中用sentinel-1数据做SBAS-InSAR完整流程（1/2） | Ramsayi</title><meta name="keywords" content="ENVI,SARscape"><meta name="author" content="Ramsayi"><meta name="copyright" content="Ramsayi"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="SARScape中用sentinel-1数据做SBAS-InSAR完整流程（1/2）"><meta name="application-name" content="SARScape中用sentinel-1数据做SBAS-InSAR完整流程（1/2）"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="SARScape中用sentinel-1数据做SBAS-InSAR完整流程（1/2）"><meta property="og:url" content="https://ramsayi.github.io/posts/91436fab/index.html"><meta property="og:site_name" content="Ramsayi"><meta property="og:description" content="SABS-InSAR原理简述差分干涉测量短基线集时序分析技术(SmallBaselineSubsetInSAR,SBAS-InSAR)由Berardino等人于2002年提出，不同于PS - InSAR的单主影像，该方法是一种基于多主影像的InSAR时间序列方法。它通过短基线原则，将大量SAR数据组"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/ramsayi/assets/banner/sarscape-01.webp"><meta property="article:author" content="Ramsayi"><meta property="article:tag"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/ramsayi/assets/banner/sarscape-01.webp"><meta name="description" content="SABS-InSAR原理简述差分干涉测量短基线集时序分析技术(SmallBaselineSubsetInSAR,SBAS-InSAR)由Berardino等人于2002年提出，不同于PS - InSAR的单主影像，该方法是一种基于多主影像的InSAR时间序列方法。它通过短基线原则，将大量SAR数据组"><link rel="shortcut icon" href="/favicon.ico"><link rel="canonical" href="https://ramsayi.github.io/posts/91436fab/"><link rel="preconnect" href="//cdn.cbd.int"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@6.1.6/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/swiper/swiper.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  linkPageTop: {"enable":true,"title":"与数百名博主无限进步","addFriendPlaceholder":"昵称（请勿包含博客等字样）：\n网站地址（要求博客地址，请勿提交个人主页）：\n头像图片url（请提供尽可能清晰的图片，我会上传到我自己的图床）：\n描述：\n站点截图（可选）：\n"},
  peoplecanvas: undefined,
  postHeadAiDescription: {"enable":true,"gptName":"AnZhiYu","mode":"local","switchBtn":false,"btnLink":"https://afdian.net/item/886a79d4db6711eda42a52540025c377","randomNum":3,"basicWordCount":1000,"key":"xxxx","Referer":"https://xx.xx/"},
  diytitle: undefined,
  LA51: undefined,
  greetingBox: {"enable":true,"default":"晚上好👋","list":[{"greeting":"晚安😴","startTime":0,"endTime":5},{"greeting":"早上好鸭👋, 祝你一天好心情！","startTime":6,"endTime":9},{"greeting":"上午好👋, 状态很好，鼓励一下～","startTime":10,"endTime":10},{"greeting":"11点多啦, 在坚持一下就吃饭啦～","startTime":11,"endTime":11},{"greeting":"午安👋, 宝贝","startTime":12,"endTime":14},{"greeting":"🌈充实的一天辛苦啦！","startTime":14,"endTime":18},{"greeting":"19点喽, 奖励一顿丰盛的大餐吧🍔。","startTime":19,"endTime":19},{"greeting":"晚上好👋, 在属于自己的时间好好放松😌~","startTime":20,"endTime":24}]},
  twikooEnvId: 'https://twikoo-h131i132g-ramsayi.vercel.app/',
  commentBarrageConfig:undefined,
  music_page_default: "custom",
  root: '/',
  preloader: undefined,
  friends_vue_info: {"apiurl":"https://friends.anheyu.com/"},
  navMusic: true,
  mainTone: undefined,
  authorStatus: {"skills":["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🏠 智能家居小能手","🔨 设计开发一条龙","🤝 专修交互与设计","🏃 脚踏实地行动派","🧱 团队小组发动机","💢 壮汉人狠话不多"]},
  algolia: {"appId":"PJ89P3CT4E","apiKey":"b8dbf819d8a897bdfdfe7068f45588d9","indexName":"hexo","hits":{"per_page":6},"languages":{"input_placeholder":"输入关键词后按下回车查找","hits_empty":"找不到您查询的内容：${query}","hits_stats":"找到 ${hits} 条结果，用时 ${time} 毫秒"}},
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"这篇文章已发布","messageNext":"天，极有可能过时了，内容仅供参考。"},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    simplehomepage: true,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"copy":true,"copyrightEbable":false,"limitCount":50,"languages":{"author":"作者: Ramsayi","link":"链接: ","source":"来源: Ramsayi","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。","copySuccess":"复制成功，复制和转载请标注本文地址"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#425AEF","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.2.0/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.2.0/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: true,
  isAnchor: false,
  shortcutKey: undefined,
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: 'Ramsayi',
  title: 'SARScape中用sentinel-1数据做SBAS-InSAR完整流程（1/2）',
  postAI: '',
  pageFillDescription: 'SABS-InSAR原理简述, 数据采集和预设, SAR数据采集, DEM数据下载与放置, 精密轨道数据下载与放置, 制作研究区范围矢量, SARscape Preferences预设, SAR数据预处理, 导入数据, optional files设置, 参数设置, 生成连接图Connection Graph, 输入数据, optional files设置, 参数设置, 查看输出文件和连接图, 干涉工作流Interferometric Process, Input Files中选择上一步得到的工程文件auxiliary.sml, 制作参考DEM, parameters设置, 输出文件, optional files设置, Avoid Moving Area File 无位移区域可选, Optional Water Vapour File List水蒸气数据可用GACOS数据可选, Classification Mask File分类掩膜文件, 连接图编辑SBAS Edit Connection Graph, 打开auxiliary.sml文件会自动加载连接图自动选择主影像, 连接图编辑的参数说明, 连接图编辑操作, 轨道精炼和重去平原理简述差分干涉测量短基线集时序分析技术由等人于年提出不同于的单主影像该方法是一种基于多主影像的时间序列方法它通过短基线原则将大量数据组合为具有多个主影像的干涉子集每个子集内的干涉对基线长度均低于临界基线值时间基线也尽可能短集合间的影像基线距大通过这种方式克服了时间和空间上的失相关因此可以通过较少的数据量来获取较可靠的监测结果基于短基线集原则具有多个主影像但仍需选取其中一景影像作为公共主影像进行配准组成各干涉子集后利用外部参考数字高程模型数据模拟并去除每个干涉相对的地形相位然后生成时间序列差分干涉图集相位解缠后得到每个相干目标的相位信息包括形变相位大气延迟相位轨道误差相位等信息各误差相位可在时间序列上采用滤波方法或多项式模型予以去除由于具有多个主影像各干涉子集在联合求解时容易出现方程秩亏现象因此引入奇异值分解方法利用最小二乘原理得到地表时间序列形变信息下图为的技术路线图源的教程数据采集和预设实验所用的软件版本为教育版实验所用到的数据如下数据即的数据对应的轨道数据数据数据采集目前免费的还在更新的比较容易下载的数据就是数据本来有颗星但是出故障停止运行了以前也有很多卫星比如有很多个网站可以下载数据本文以网站为例下载教程参考文章哨兵数据下载也可以在欧空局下载数据哨兵数据下载欧空局数据下载与放置做有多个方法本文使用是两期数据因此要事先准备数据通常使用数据具体来说是分辨率虽然理论上可以自动下载但是国内的网络经常出故障因此还是需要手动下载如果不知道数据对应的怎么下载不知道的位置是哪里不知道切片编号可以参考文章手动下载切片数据精密轨道数据下载与放置精密轨道数据不是必须的一般来说数据自带参考轨道数据但是精度稍低精密轨道一般在数据发布后的一个礼拜后才会公布因此在处理突发情况的数据时短时间内无法获取到相应的精密轨道数据精密轨道下载教程见种方法下载精密轨道数据精密轨道需要放置在特定的文件夹路径下面才能被识别并使用放置教程见存放精密轨道数据并自动读取制作研究区范围矢量一景数据很大如果电脑性能不足处理起来需要很多时间为了提高处理速度和效率建议提前制作研究区范围矢量在中可以导入格式的矢量作为处理范围直接在软件中新建一个矢量面图层然后画一个即可或者在里面圈一个也可以这一步很简单就不这个不是必须的如果不导入范围那么默认处理整个数据预设首先选择适用于的一套系统参数打开单击选择在弹出的对话框上选择是在参数设置面板上点击数据预处理导入数据工具路径为由于是直接导入压缩包即可不用解压设置这一步就是添加兴趣区矢量文件或者格式都行作者亲测矢量名必须是英文且不可以有下划线可选不选择矢量文件就直接处理整景的数据和处理过程文件可选参数设置极化方式这里可以选择你需要的一般是用输出的时候直接选择文件夹就行查看输出的文件如果最后提示的同时又有一个警告内容是无法找到有效的轨道数据但其实你已经将轨道数据存放在合适的位置了那可能是软件的我遇到过很多次在无法连接到指定的下载轨道数据的网址的时候我们就不得不忽略轨道数据了生成连接图其实从这一步开始才是真正的核心流程对输入的数据进行干涉像对的配对像对结果图表方式输出到屏幕输入景数据能得到的最大配对数是生成连接图工具会选择最优的组合方式进行配对这些像对会进行干涉工作流处理然后用于反演程序会自动选择超级主影像在整个处理中超级主影像作为参考影像所有的像对都会配准到超级主影像上用户也可以自己选择超级主影像超级主影像的选择也不是很严格因为对结果不会有什么影响不过可能会导致较少的配对所以还是建议自动选择超级主影响这样有足够的像对在像对编辑的时候就可以去掉相干性小的像对工具路径输入数据选择上一步处理好的数据设置选择超级主影像这里不选择程序会自动判断最适合的影像参数设置单击面板选择设置以下参数临界基线最小百分比临界基线最大百分比提示建议把空间和时间基线阈值调大一些最大临界基线推荐值为主要依赖传感器类型和经验目的是避免完全空间失相关最小时间基线最大时间基线冗余度在对连接干涉图选择的最小和最大时间基线和正常基线应用阈值后可以指定进一步的冗余度选择标准高接受与先前基线阈值相关的所有干涉图低程序根据图形冗余标准和每次采集的最小连接数尽量减少保留的干涉图数量冗余标准当冗余度较低时预计以下选择标准用于删除冗余连接最小正常基线通过仅保留具有最小空间基线的连接将连接数最小化最大正常基线通过仅保留具有最大空间基线的连接将连接数最小化最小时间基线通过仅保留具有最小时间基线的连接将连接数最小化最大连接数撇除后每个采集剩余的连接数干涉图以减少冗余此参数表示连接图的平均冗余参考文献建议设置大于的值以获得可靠的反演解不允许孤立的像对连接输出面板填写一个文件的根名后续处理的数据会据此根名自动命名选择输出路径即可查看报告查看输出文件和连接图在输出目录中可以看到如下的文件重点看里面的和文件记录相关的处理信息包括处理进度步骤和生成的文件记录等后面会用到连接图中黄点是超级主影像这个在报告中也能看到打开文件可以看到的信息绿点是从影像如果有红点就是在限制条件外的影像像对连接时间基线图像对连接空间基线图干涉工作流版本的干涉工作流里面可以自动进行轨道精炼和重去平这一步有点复杂处理时间也比较久工具路径中选择上一步得到的工程文件对所有的配对的干涉像对进行干涉处理从相干性生成去平滤波和相位解缠所有的数据对都配准到超级主影像上为下一步轨道精炼和重去平以及反演做好数据准备包括干涉图生成干涉图去平自适应滤波和相干系数生成相位解缠生成一系列解缠之后的相位图所有的干涉图最终都与超级主影像进行了配准为下一步轨道精炼重去平以及的反演做准备制作参考为啥要提前制作呢因为之前的步骤都不需要用到但是里面的需要在工具的中点击右边的望远镜符号选择会跳出一个新的工具输入位置参考数据也就是上一步处理好的数据随便选一个就行我选的是超级主影像选择输出文件的坐标设定好输出路径之后就点击开始运行日常报错其实这一步的过程和前文提到的文章里面一模一样手动下载切片数据打开拉到最下面查看切片的名称去下载这两个切片不再赘述看链接里面的文章即可手动下载切片数据制作好了之后点击文件夹图标直接加载进来设置在面板中选择设置以下参数重建所有如果中断了运算就重新运算所有的影像这里选择和多视视数分别设置和地面分辨就是接近设置视数太低可以提高地面分辨率但也会提高运算压力网格大小以米为单位用于调整距离和方位角外观如果其他参数是手动设置的栅格大小将不意味着它们的值发生变化解缠次数定义将并行执行的解缠次数每个线程一个干涉图此参数不得超过线程的总数在增加并行进程数之前用户应考虑可用的系统内存因为内存消耗与并行执行的解包数直接相关应用分层和阴影遮罩遮罩覆盖和阴影区域中的结果大气外部传感器选择有关数据的使用方法请阅读文章使用数据大气高度相关标志通过选择此标志算法使用高度相关窗口大小大气部分参数定义过滤器的大小从每个干涉图中估计并移除大气的高度相关分量这里暂不需要选择解缠方法有三种方法供选择解缠分解等级分解等级该分解是为了用迭代的方法对数据做多视和疏采样干涉图以一个较低的分辨率被解缠然后被重采样成原来的分辨率使用了分解可减少解缠错误提高处理效率用户可以指定迭代的次数每个迭代相当于次采样过疏这里可以填的数有其中和代表不执行分解用原始的像素采样当形变很大或是地形很陡峭的情况下多相位高密度分布分解可引起交迭效应建议设置为或代表最小的分解等级最大的分解等级建议这个次数不要超过通常情况设置原始的像素采样如或者最小的分解等级对大范围分布的低相干性区域这里设置分解等级为提高解缠的质量及处理效率减少解缠错误引用声明该段文字引用自文章技术殿堂用哨兵干涉数据对测量台湾地震引起的地表形变信息解缠相关系数阈值滤波方法运行成功这一步是处理中运行时间最长的一步这一步做完后会生成一系列结果包括各个像对去平和滤波后的干涉图相干系数图解缠结果和斜距下的强度数干涉处理的文件夹在根目录下面包含一个索引文件能打开所有的干涉处理的结果生成一个的文件夹包含所有结果的格式结果存放在文件夹下面便于可视化查看查看解缠结果和相应的相干性图看有无相干性低和解缠结果不好的像对说明这一步之后检查数据和调整相应的参数可以参考下面几点说明查看去平和滤波后的干涉图可以确定对干涉滤波器的调整如果很多干涉图都是低相干的区域可以增加滤波强度如果高相干区域太多如有大量干的区域存在可以减小滤波的强度是推荐的滤波方法如果要增强滤波效果在设置参数的滤波面板下增加值和或窗口大小窗口大小和条纹频率有关密集的条纹应该用较小的窗口查看解缠后的图可以确定相干性阈值解缠方法分解等级等相干性阈值如果解缠的结果中有很多噪声的话可以增加相干性阈值如果解缠结果比较少可以减少相干性阈值推荐的默认解缠方法是如果选择解缠方法的话这个方法是必执行的因为这种方法可以很好的处理两个较孤立的相干性高的区域这对潮湿或植被区域是常见的在绝大多数情况下都是可行的解缠方法如果有特殊情况比如存在很大的残余地形或形变可以尝试经典的方法分解等级通常执行原始的像素采样如或者或者最小的分解等级该分解是为了用迭代的方法对数据做多视和疏采样干涉图以一个较低的分辨率被解缠然后被重采样成原来的分辨率使用分解可减少解缠错误对分布的低相干性的区域提高处理效率用户可以指定迭代的次数每个迭代相当于次采样过疏建议这个次数不要超过当形变很大或是地形很陡峭的情况下相位变化快密度大的干涉条纹分解可引起交迭效应在这种情况下设置值为不执行分解对大范围分布的低相干性区域这里设置分解等级为提高解缠的质量及处理效率减少解缠错误需要注意的是分解等级设置较大的话宏观上的效果比较好如数据处理速度提高但是会引起局部区域的不连续等级设置高可能会引起假信号问题在第一次解缠的时候用这个等级在第二次解缠的时候就在简化了的去平和滤波后的干涉图去除了位移速率和地形残差上进行这种情况下推荐设置解缠等级为引用声明该段文字引用自文档入门教程第章短基线如果侵权请联系我删除谢谢输出文件这一步的处理虽然没有标识输出文件目录但也可以找到位于文件夹中文件夹包含以下产品的目录由于输出产品大量元数据并生成时间序列文件因此能够同时加载所有相关的输出产品子文件夹其中包含中间干涉测量结果的文件生成的元数据和时间序列文件指的是所有相干图像指的是所有去平地和滤波的干涉图指的是所有去平地过滤和合并平滑噪点由可选过程输出的干涉图指的是所有相位解缠请注意此扩展用于在反演第一步中生成的第级未解缠的产品指的是所有斜距影像斜距影像中的叠掩和阴影用作永久掩膜地理投影影像中的叠掩和阴影掩膜斜距影像的局部入射角图地理投影影像的局部入射角图斜距影像的分类图用作特定上的永久掩膜斜距影像的高程掩膜用作用户指定的开始和结束月份之间的间歇性掩膜文件夹用于存储中间处理结果的目录为了区分每个输出产品的来源输入影像对以及在连接网络中识别它将添加一个包含主从采集日期即和主从关系的前缀设置无位移区域可选如果已知受位移影响的区域建议创建包含移动区域的必须对此进行地理编码使用与参考相同的系统在光谱分集估计阶段将避免与此形状文件相交的所有扫描或突发否则在地震等强烈运动的情况下这些脉冲将被破坏此外后续的自动细化步骤还将考虑此形状以避免在细化掩膜中使用移动区域上的像素水蒸气数据可用数据可选包含产品水蒸气数据的文件列表初始化并编译列表后软件将从干涉图中删除水蒸气成分必须为每个输入影像插入栅格采集日期和时间相同联轴器由软件自动制造有关数据的下载和使用细节请参考文章使用数据分类掩膜文件地理编码几何分类地图用于在处理期间遮盖特定区域屏蔽区域在整个相干堆栈上的值为零并且不会被展开考虑也不会成为最终覆盖图的一部分分类掩码列表被视为要掩码的区域连接图编辑依次查看上一步生成的各个像对的相干性图和解缠结果图若有相干性低的就用连接图编辑工具对该像对移除可以直接查看中的格式文件或者在中打开解缠结果相干性图滤波后干涉图在中浏览这些结果由于每个人的经验不一样判断需要移除的数据对也会不一样这里总结一下需要剔除的像对的常用标准如果干涉处理时候用了解缠的方法建议保留得到的结果含有结果的说明进行的是解缠相干系数图滤波后的干涉图相位解缠图只要其中一个结果较好建议保留得到的结果含有明显的大气相位建议剔除工具路径打开文件会自动加载连接图自动选择主影像连接图编辑的参数说明在工具页面我们可以看到很多参数尤其是版本有更多的可设置项目自动点击删除影像对编辑对将相应地使用自动剔除强不连续性自动剔除高标准差和自动剔除低重叠率参数自动完成丢弃和保留元数据时间序列作为自动编辑工具行为的可视化描述生成相应的最后处理的解缠元数据时间序列也会更新添加影像对在主列表和从列表中选择的对将添加到原始连接网络中必须从干涉工作流中重新运行该过程不处理上一次迭代中处理的干涉对只有新条目才会被处理删除影像对仅在从列表中选择的影像将从原始连接网络中删除可多选添加影像输入影像列表将添加到原始连接网络中必须从干涉工作流中重新运行该过程不处理上一次迭代中处理的干涉对只有新条目才会被处理删除影像在主列表或从列表中选择的影像将从原始连接网络中删除自动剔除强不连续性通过将剔除阈值设置为高于零并单击编辑连接图面板的自动按钮最差的干涉图整个干涉图的百分比将从中剔除解缠干涉图排序的衡量指标是相对于有效像素数的间断相位周期数自动剔除高标准差通过将剔除阈值设置为高于零并单击编辑连接图面板的自动按钮最差的干涉图整个干涉图的百分比将从中剔除相应的最后处理的解缠元数据时间序列也会更新展开干涉图排序的度量是标准差自动剔除低重叠率通过将剔除阈值设置为高于零并单击编辑连接图面板的自动按钮最差的干涉图整个干涉图的百分比将从中丢弃相应的最后处理的解缠元数据时间序列也会更新展开干涉图排序的衡量指标是有效像素覆盖率撤销恢复以前的连接网络连接图编辑操作再次说明由于每个人的经验不一样判断需要移除的数据对也会不一样这里总结一下需要剔除的像对的常用标准如果干涉处理时候用了解缠的方法建议保留得到的结果含有结果的说明进行的是解缠相干系数图一般亮度值比较高的相干性好滤波后的干涉图相位解缠图最好是没有空洞和相位孤岛只要其中一个结果较好建议保留得到的结果含有明显的大气相位建议剔除在文件夹中可以看到干涉工作流处理的结果打开文件夹打开查看选择超大图标这样就能在文件夹中预览结果了当然也可以一张张放大了仔细看从数据名中解读影像对数据名中的代表表示主影像表示编号为的主影像表示主影像是编号为的日期为的影像表示从影像表示日期为编号为的从影像删除效果不好的数据对先点击主影像列在点击从影像列最后点击删除对点击之后会弹出计算窗口很快就会显示编辑完成显示编辑次数编辑好了之后即可关闭窗口轨道精炼和重去平集成在干涉数据流中及以下版本在工具路径中由于我用的是这一步已经集成在第五节干涉工作流中了如果读者使用的是及以前版本请参考如下内容下面的内容是在新手教程中的摘抄这一步的目的是估算和去除残余的恒定相位和解缠后还存在的相位坡道在中打开在面板中在选项中选择在选择中单击按钮创建在打开的面板中分别选择三个文件必选项用于定位这里选择一个数据对的解缠结果文件可选项用于检测对应的高程值这里选择文件可选项为选择提供一个参考依据可以选择相干系数图干涉图等如这里选择一个去平和滤波后的干涉图可以在判断地形和形变区域时提供参考与同时显示在一个窗口中注可以选择斜距投影方位向和距离向或者地理投影其中自动从数据中获取数据但同一个工程中只用一种投影方式后续还有用到的地方这点不同于基本处理中的地理编码或者干涉图去平处理典型的方式是在斜距数据上选择除非文件需要用在其他轨道数据上这种情况就应该在地理投影的数据上选择在处理中利用是对所有数据对进行重去平因此在选择文件的时候如选择解缠结果文件作为定位的需要在所有数据对的解缠结果文件中都符合标准建议在上一步检查数据对中间结果的时候就选择好一对可用于选择控制点的数据在面板中单击能进入选择面板利用鼠标功能在窗口中选择控制点说明选择重要的标准包括没有残余地形条纹没有形变条纹远离形变区域除非已知这个点的形变速率没有相位跃变如果点位于一个孤立相位上并且解缠的值非常差这个位置可能是斜坡相位的一部分那么选择的这个是不对的由于在中很难找到完美的可以全部用在所有的数据对中因为数据对拥有不同的相干性因此建议多选择一些至少个点选择好控制点之后中默认为全球经纬度投影输入的文件的坐标系作为参考地理坐标系选择选项默认自动选择一个输出路径和文件名单击按钮完成选择工作回到面板中在面板自动输入上一步得到的控制点文件单击面板选择文件单击面板选择选项设置以下参数轨道精炼方法这里选择精炼残余相位多项式次数单击按钮执行处理点击进行处理轨道精炼之后在件路径为在矢量图层上点击右键选择打开属性表查看一列把值比较大的点的号记录下来以便稍后编辑相同的操作重新打开轨道精炼工具导入数据在面板导入上一次点之后把刚记录的误差大的点删除在参数面板设置为重新进行一次轨道精炼同样的方法检查点的属性直到每个点的残差值都为一个较小的值引用声明该段文字引用自文档入门教程第章短基线如果侵权请在评论区或私信联系我删除谢谢',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2026-02-10 12:05:13',
  postMainColor: '',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/inject/custom.css"><meta name="generator" content="Hexo 8.1.1"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><div class="back-home-button"><i class="anzhiyufont anzhiyu-icon-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" href="https://ramsayi.github.io/" title="博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="博客"/><span class="back-menu-item-text">博客</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://aabbk.github.io" title="网址导航"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="网址导航"/><span class="back-menu-item-text">网址导航</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://scabet.github.io" title="Scabet"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="Scabet"/><span class="back-menu-item-text">Scabet</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://aabbt.github.io/" title="Aabbt"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="Aabbt"/><span class="back-menu-item-text">Aabbt</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://swclub.github.io/" title="SWClub"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="SWClub"/><span class="back-menu-item-text">SWClub</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://image.anheyu.com/" title="安知鱼图床"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image.anheyu.com/favicon.ico" alt="安知鱼图床"/><span class="back-menu-item-text">安知鱼图床</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://aabbs.github.io/" title="花里胡哨"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://blog.anheyu.com/favicon.ico" alt="花里胡哨"/><span class="back-menu-item-text">花里胡哨</span></a></div></div></div></div><a id="site-name" href="/" accesskey="h"><div class="title">Ramsayi</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a><div id="he-plugin-simple"></div><script>var WIDGET = {
  "CONFIG": {
    "modules": "0124",
    "background": "2",
    "tmpColor": "FFFFFF",
    "tmpSize": "16",
    "cityColor": "FFFFFF",
    "citySize": "16",
    "aqiColor": "E8D87B",
    "aqiSize": "16",
    "weatherIconSize": "24",
    "alertIconSize": "18",
    "padding": "10px 10px 10px 10px",
    "shadow": "0",
    "language": "auto",
    "borderRadius": "20",
    "fixed": "true",
    "vertical": "top",
    "horizontal": "left",
    "left": "20",
    "top": "7.1",
    "key": "df245676fb434a0691ead1c63341cd94"
  }
}
</script><link rel="stylesheet" href="https://widget.qweather.net/simple/static/css/he-simple.css?v=1.4.0"/><script src="https://widget.qweather.net/simple/static/js/he-simple.js?v=1.4.0"></script></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 归档</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 友链</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 友人帐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/fcircle/"><i class="anzhiyufont anzhiyu-icon-artstation faa-tada" style="font-size: 0.9em;"></i><span> 朋友圈</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> 留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/?id=13912531641&amp;server=netease"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/bangumis/"><i class="anzhiyufont anzhiyu-icon-bilibili faa-tada" style="font-size: 0.9em;"></i><span> 追番页</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册集</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/aircondition/"><i class="anzhiyufont anzhiyu-icon-fan faa-tada" style="font-size: 0.9em;"></i><span> 小空调</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/equipment/"><i class="anzhiyufont anzhiyu-icon-dice-d20 faa-tada" style="font-size: 0.9em;"></i><span> 我的装备</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/techstack/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 技术栈</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button only-home" id="travellings_button" title="随机前往一个开往项目网站"><a class="site-page" onclick="anzhiyu.totraveling()" title="随机前往一个开往项目网站" href="javascript:void(0);" rel="external nofollow" data-pjax-state="external"><i class="anzhiyufont anzhiyu-icon-train"></i></a></div><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><div class="nav-button" id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" title="搜索🔍" accesskey="s"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span> 搜索</span></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="https://cdn.jsdelivr.net/gh/ramsayi/assets/other/wechat.png" target="_blank"><img class="post-qr-code-img" alt="微信" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/other/wechat.png"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://cdn.jsdelivr.net/gh/ramsayi/assets/other/alipay.png" target="_blank"><img class="post-qr-code-img" alt="支付宝" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/other/alipay.png"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title"> 最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/Axios/" style="font-size: 1.05rem;">Axios<sup>1</sup></a><a href="/tags/Bilibili/" style="font-size: 1.05rem;">Bilibili<sup>1</sup></a><a href="/tags/C/" style="font-size: 1.05rem;">C++<sup>39</sup></a><a href="/tags/CSS/" style="font-size: 1.05rem;">CSS<sup>9</sup></a><a href="/tags/Curl/" style="font-size: 1.05rem;">Curl<sup>1</sup></a><a href="/tags/Dart/" style="font-size: 1.05rem;">Dart<sup>2</sup></a><a href="/tags/ECharts/" style="font-size: 1.05rem;">ECharts<sup>4</sup></a><a href="/tags/ENVI/" style="font-size: 1.05rem;">ENVI<sup>3</sup></a><a href="/tags/ESLint/" style="font-size: 1.05rem;">ESLint<sup>1</sup></a><a href="/tags/Excel/" style="font-size: 1.05rem;">Excel<sup>1</sup></a><a href="/tags/FFmpeg/" style="font-size: 1.05rem;">FFmpeg<sup>1</sup></a><a href="/tags/Flutter/" style="font-size: 1.05rem;">Flutter<sup>2</sup></a><a href="/tags/Getx/" style="font-size: 1.05rem;">Getx<sup>1</sup></a><a href="/tags/Git/" style="font-size: 1.05rem;">Git<sup>2</sup></a><a href="/tags/GitKraken/" style="font-size: 1.05rem;">GitKraken<sup>1</sup></a><a href="/tags/HTML/" style="font-size: 1.05rem;">HTML<sup>9</sup></a><a href="/tags/Hexo/" style="font-size: 1.05rem;">Hexo<sup>3</sup></a><a href="/tags/Husky/" style="font-size: 1.05rem;">Husky<sup>1</sup></a><a href="/tags/JavaScript/" style="font-size: 1.05rem;">JavaScript<sup>7</sup></a><a href="/tags/Jupyter/" style="font-size: 1.05rem;">Jupyter<sup>1</sup></a><a href="/tags/Markdown/" style="font-size: 1.05rem;">Markdown<sup>1</sup></a><a href="/tags/OneDrive/" style="font-size: 1.05rem;">OneDrive<sup>1</sup></a><a href="/tags/Preitter/" style="font-size: 1.05rem;">Preitter<sup>1</sup></a><a href="/tags/Python/" style="font-size: 1.05rem;">Python<sup>33</sup></a><a href="/tags/React/" style="font-size: 1.05rem;">React<sup>9</sup></a><a href="/tags/SARscape/" style="font-size: 1.05rem;">SARscape<sup>3</sup></a><a href="/tags/Ubuntu/" style="font-size: 1.05rem;">Ubuntu<sup>2</sup></a><a href="/tags/VMware/" style="font-size: 1.05rem;">VMware<sup>1</sup></a><a href="/tags/VSCode/" style="font-size: 1.05rem;">VSCode<sup>1</sup></a><a href="/tags/Vim/" style="font-size: 1.05rem;">Vim<sup>1</sup></a><a href="/tags/Windows/" style="font-size: 1.05rem;">Windows<sup>3</sup></a><a href="/tags/You-Get/" style="font-size: 1.05rem;">You-Get<sup>1</sup></a><a href="/tags/npm/" style="font-size: 1.05rem;">npm<sup>1</sup></a><a href="/tags/%E4%B8%96%E7%95%8C%E5%8D%A1%E8%BD%A6%E6%A8%A1%E6%8B%9F/" style="font-size: 1.05rem;">世界卡车模拟<sup>1</sup></a><a href="/tags/%E5%8D%9A%E5%AE%A2/" style="font-size: 1.05rem;">博客<sup>5</sup></a><a href="/tags/%E5%BF%AB%E6%8D%B7%E9%94%AE/" style="font-size: 1.05rem;">快捷键<sup>1</sup></a><a href="/tags/%E6%B8%B8%E6%88%8F/" style="font-size: 1.05rem;">游戏<sup>1</sup></a><a href="/tags/%E7%88%AC%E8%99%AB/" style="font-size: 1.05rem;">爬虫<sup>1</sup></a><a href="/tags/%E7%BB%88%E7%AB%AF/" style="font-size: 1.05rem;">终端<sup>6</sup></a><a href="/tags/%E8%99%9A%E6%8B%9F%E6%9C%BA/" style="font-size: 1.05rem;">虚拟机<sup>1</sup></a></div></div><hr/></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="anzhiyufont anzhiyu-icon-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2026/02/"><span class="card-archive-list-date">二月 2026</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/03/"><span class="card-archive-list-date">三月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/08/"><span class="card-archive-list-date">八月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/07/"><span class="card-archive-list-date">七月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/01/"><span class="card-archive-list-date">一月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/11/"><span class="card-archive-list-date">十一月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/10/"><span class="card-archive-list-date">十月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/09/"><span class="card-archive-list-date">九月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/" itemprop="url">技术学习</a><i class="anzhiyufont anzhiyu-icon-angle-right post-meta-separator"></i><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/ENVI/" itemprop="url">ENVI</a></span><span class="article-meta tags"><a class="article-meta__tags" href="/tags/ENVI/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>ENVI</span></a><a class="article-meta__tags" href="/tags/SARscape/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>SARscape</span></a></span></div></div><h1 class="post-title" itemprop="name headline">SARScape中用sentinel-1数据做SBAS-InSAR完整流程（1/2）</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2026-02-09T12:01:32.000Z" title="发表于 2026-02-09 20:01:32">2026-02-09</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2026-02-10T04:05:13.476Z" title="更新于 2026-02-10 12:05:13">2026-02-10</time></span></div><div class="meta-secondline"><span class="post-meta-separator"></span><span class="post-meta-wordcount"><i class="anzhiyufont anzhiyu-icon-file-word post-meta-icon" title="文章字数"></i><span class="post-meta-label" title="文章字数">字数总计:</span><span class="word-count" title="文章字数">7.7k</span><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-clock post-meta-icon" title="阅读时长"></i><span class="post-meta-label" title="阅读时长">阅读时长:</span><span>24分钟</span></span><span class="post-meta-separator"></span><span class="post-meta-pv-cv" id="" data-flag-title="SARScape中用sentinel-1数据做SBAS-InSAR完整流程（1/2）"><i class="anzhiyufont anzhiyu-icon-fw-eye post-meta-icon"></i><span class="post-meta-label" title="阅读量">阅读量:</span><span id="busuanzi_value_page_pv"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></span><span class="post-meta-separator">       </span><span class="post-meta-position" title="作者IP属地为江苏"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>江苏</span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src="https://cdn.jsdelivr.net/gh/ramsayi/assets/banner/sarscape-01.webp"></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container" itemscope itemtype="https://ramsayi.github.io/posts/91436fab/"><header><a class="post-meta-categories" href="/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/" itemprop="url">技术学习</a><a class="post-meta-categories" href="/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/ENVI/" itemprop="url">ENVI</a><a href="/tags/ENVI/" tabindex="-1" itemprop="url">ENVI</a><a href="/tags/SARscape/" tabindex="-1" itemprop="url">SARscape</a><h1 id="CrawlerTitle" itemprop="name headline">SARScape中用sentinel-1数据做SBAS-InSAR完整流程（1/2）</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">Ramsayi</span><time itemprop="dateCreated datePublished" datetime="2026-02-09T12:01:32.000Z" title="发表于 2026-02-09 20:01:32">2026-02-09</time><time itemprop="dateCreated datePublished" datetime="2026-02-10T04:05:13.476Z" title="更新于 2026-02-10 12:05:13">2026-02-10</time></header><h1 id="SABS-InSAR原理简述"><a href="#SABS-InSAR原理简述" class="headerlink" title="SABS-InSAR原理简述"></a>SABS-InSAR原理简述</h1><p><a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E5%B7%AE%E5%88%86&spm=1001.2101.3001.7020">差分</a>干涉测量短基线集时序分析技术(SmallBaselineSubsetInSAR,SBAS-InSAR)由Berardino等人于2002年提出，不同于PS - InSAR的单主影像，该方法是一种基于多主影像的InSAR时间序列方法。它通过短基线原则，将大量SAR数据组合为具有多个主影像的干涉子集，每个子集内的干涉对基线长度均低于临界基线值，时间基线也尽可能短，集合间的 SAR影像基线距大，通过这种方式克服了时间和空间上的失相关，因此SBAS - InSAR可以通过较少的数据量来获取较可靠的监测结果。</p>
<p>基于短基线集原则，SBAS - InSAR具有多个主影像，但仍需选取其中一景影像作为公共主影像进行配准；组成各干涉子集后，利用外部参考数字高程模型(Digital Elevation Model，DEM)数据模拟并去除每个干涉相对的地形相位，然后生成时间序列差分干涉图集；相位解缠后得到每个相干目标的相位信息，包括形变相位、大气延迟相位、轨道误差相位等信息，各误差相位可在时间序列上采用滤波方法或多项式模型予以去除；由于SBAS - InSAR具有多个主影像，各干涉子集在联合求解时容易出现方程秩亏现象，因此引入奇异值分解方法，利用最小二乘原理得到地表时间序列形变信息。<br>    下图为SBAS-InSAR的技术路线，图源ESRI的ENVI SARscape教程<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/article/SBAS-InSAR/20260209-232239-565.png" alt="在这里插入图片描述"></p>
<h1 id="数据采集和预设"><a href="#数据采集和预设" class="headerlink" title="数据采集和预设"></a>数据采集和预设</h1><p>实验所用的软件版本为SARScape5.6.2教育版</p>
<p>实验所用到的数据如下：</p>
<ul>
<li>SAR数据，即sentinel-1的SLC数据</li>
<li>对应的轨道数据</li>
<li>DEM数据</li>
</ul>
<h2 id="SAR数据采集"><a href="#SAR数据采集" class="headerlink" title="SAR数据采集"></a>SAR数据采集</h2><p>目前免费的，还在更新的，比较容易下载的SAR数据就是sentinel-1数据，sentinel-1本来有2颗星，但是1B出故障，停止运行了，以前也有很多SAR卫星，比如ASAR</p>
<p>有很多个网站可以下载Sentinel-1数据，本文以ASF网站为例，下载教程参考文章：</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_41159191/article/details/124057758?ops_request_misc=%7B%22request_id%22:%22166296978016782417074875%22,%22scm%22:%2220140713.130102334.pc_blog.%22%7D&request_id=166296978016782417074875&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~blog~first_rank_ecpm_v1~rank_v31_ecpm-8-124057758-null-null.nonecase&utm_term=%E4%B8%8B%E8%BD%BD&spm=1018.2226.3001.4450">哨兵-1 Sentinel-1数据下载（ASF）</a></p>
<p>也可以在欧空局下载Sentinel-1数据<br><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_41159191/article/details/124307726?ops_request_misc=%7B%22request_id%22:%22166296978016782417074875%22,%22scm%22:%2220140713.130102334.pc_blog.%22%7D&request_id=166296978016782417074875&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~blog~first_rank_ecpm_v1~rank_v31_ecpm-3-124307726-null-null.nonecase&utm_term=%E4%B8%8B%E8%BD%BD&spm=1018.2226.3001.4450">哨兵-2 Sentinel-2 数据下载（欧空局）</a></p>
<h2 id="DEM数据下载与放置"><a href="#DEM数据下载与放置" class="headerlink" title="DEM数据下载与放置"></a>DEM数据下载与放置</h2><p>做DInSAR有多个方法，本文使用是两期SAR数据+DEM，因此要事先准备DEM数据，通常使用SRTM数据，具体来说是SRTM-1 V3，分辨率30m。<br>虽然SARscape理论上可以自动下载DEM，但是国内的网络经常出故障，因此还是需要手动下载。</p>
<p>如果不知道SAR数据对应的DEM怎么下载，不知道DEM的位置是哪里，不知道DEM切片编号，可以参考文章：<br>[SARscape手动下载30mDEM（SRTM1 V3）切片数据-<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_41159191/article/details/126794229">EC: 40008]</a></p>
<h2 id="精密轨道数据下载与放置"><a href="#精密轨道数据下载与放置" class="headerlink" title="精密轨道数据下载与放置"></a>精密轨道数据下载与放置</h2><p>精密轨道数据不是必须的，一般来说，SAR数据自带参考轨道数据，但是精度稍低，精密轨道一般在数据发布后的一个礼拜后才会公布，因此，在处理突发情况的SAR数据时，短时间内无法获取到相应的精密轨道数据。</p>
<p>精密轨道下载教程见：<br><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_41159191/article/details/124229680?ops_request_misc=%7B%22request_id%22:%22166296978016782417074875%22,%22scm%22:%2220140713.130102334.pc_blog.%22%7D&request_id=166296978016782417074875&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~blog~first_rank_ecpm_v1~rank_v31_ecpm-6-124229680-null-null.nonecase&utm_term=%E4%B8%8B%E8%BD%BD&spm=1018.2226.3001.4450">3种方法下载Sentinel-1精密轨道数据</a></p>
<p>精密轨道需要放置在特定的文件夹路径下面才能被SARscape识别并使用，放置教程见：<br><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_41159191/article/details/126809766?ops_request_misc=%7B%22request_id%22:%22166297062716800184118511%22,%22scm%22:%2220140713.130102334.pc_blog.%22%7D&request_id=166297062716800184118511&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~blog~first_rank_ecpm_v1~rank_v31_ecpm-2-126809766-null-null.nonecase&utm_term=%E7%B2%BE%E5%AF%86&spm=1018.2226.3001.4450">SARscape存放sentinel-1精密轨道数据并自动读取</a></p>
<h2 id="制作研究区范围矢量"><a href="#制作研究区范围矢量" class="headerlink" title="制作研究区范围矢量"></a>制作研究区范围矢量</h2><p>一景SAR数据很大，如果电脑性能不足，处理起来需要很多时间，为了提高处理速度和效率，建议提前制作研究区范围矢量，在SARscape中，可以导入<code>.shp</code> <code>.kml</code> <code>.kmz</code>格式的矢量作为处理范围。<br>直接在GIS软件中新建一个矢量面图层，然后画一个即可，或者在Google Earth里面圈一个kml也可以，这一步很简单，就不<br>这个不是必须的，如果不导入范围，那么默认处理整个数据。</p>
<h2 id="SARscape-Preferences预设"><a href="#SARscape-Preferences预设" class="headerlink" title="SARscape Preferences预设"></a>SARscape Preferences预设</h2><p>首先选择适用于 Sentinel-1的一套系统参数。打开<code>SARscape----Preferences----Perference specific</code>，单 击 <code>Load Preferences</code>，选择Sentinel TOPSAR，在弹出的对话框上选择“是”。在参数设置面板上点击 OK。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/article/SBAS-InSAR/20260209-232132-969.png" alt="在这里插入图片描述"></p>
<h1 id="SAR数据预处理"><a href="#SAR数据预处理" class="headerlink" title="SAR数据预处理"></a>SAR数据预处理</h1><h2 id="导入数据"><a href="#导入数据" class="headerlink" title="导入数据"></a>导入数据</h2><p>工具路径为：<code>/SARscape/Import Data/SAR Spaceborne/Single Sensor/Sentinel-1</code><br>由于是SARScape562，直接导入zip压缩包即可，不用解压<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/article/SBAS-InSAR/20260209-233011-011.png" alt="在这里插入图片描述"></p>
<h2 id="optional-files设置"><a href="#optional-files设置" class="headerlink" title="optional files设置"></a>optional files设置</h2><p>这一步就是添加</p>
<ul>
<li>兴趣区矢量文件，kml、kmz或者shp格式都行，作者亲测矢量名必须是英文且不可以有下划线！！可选，不选择矢量文件就直接处理整景的数据</li>
<li>和处理过程文件 <code>_progress.txt</code>，可选<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/article/SBAS-InSAR/20260209-233029-095.png" alt="在这里插入图片描述"></li>
</ul>
<h2 id="参数设置"><a href="#参数设置" class="headerlink" title="参数设置"></a>参数设置</h2><p>极化方式这里可以选择你需要的，一般是用VV<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/article/SBAS-InSAR/20260209-233041-353.png" alt="在这里插入图片描述"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/article/SBAS-InSAR/20260209-233051-882.png" alt="在这里插入图片描述"><br>输出的时候直接选择文件夹就行</p>
<p>查看输出的文件</p>
<p>如果最后提示complete的同时又有一个警告，内容是无法找到有效的轨道数据，但其实你已经将轨道数据存放在合适的位置了，那可能是软件的bug，我遇到过很多次。在无法连接到指定的下载轨道数据的网址的时候，我们就不得不忽略轨道数据了。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">No</span> valid orbit file found <span class="keyword">in</span> repository https :<span class="comment">//scihub.copernicus.eu/gnss/</span></span><br><span class="line"><span class="title class_">Please</span> see the help page <span class="keyword">of</span> <span class="string">&quot;Sentinel Auxiliary Files Download&quot;</span> <span class="keyword">for</span> more details !</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/article/SBAS-InSAR/20260209-233106-715.png" alt="在这里插入图片描述"></p>
<h1 id="生成连接图Connection-Graph"><a href="#生成连接图Connection-Graph" class="headerlink" title="生成连接图Connection Graph"></a>生成连接图Connection Graph</h1><p>其实从这一步开始才是真正的SBAS-InSAR核心流程</p>
<p>对输入的数据进行干涉像对的配对，像对结果图表方式输出到屏幕，输入 N 景数据，能得到的最大配对数是(N*(N-1))&#x2F;2，生成连接图工具会选择最优的组合方式进行配对。这些像对会进行<strong>干涉工作流</strong>处理，然后用于 SBAS 反演。</p>
<p>程序会自动选择超级主影像，在整个处理中，超级主影像作为参考影像，所有的像对都会配准到超级主影像上。用户也可以自己选择超级主影像，超级主影像的选择也不是很严格因为对结果不会有什么影响，不过可能会导致较少的配对，所以还是建议自动选择超级主影响，这样有足够的像对，在像对编辑的时候，就可以去掉相干性小的像对。</p>
<p>工具路径：<code>/SARscape/Interferometric Stacking/SBAS/1 - Connection Graph</code></p>
<h2 id="输入数据"><a href="#输入数据" class="headerlink" title="输入数据"></a>输入数据</h2><p>选择上一步处理好的VV数据<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/article/SBAS-InSAR/20260209-233127-670.png" alt="在这里插入图片描述"></p>
<h2 id="optional-files设置-1"><a href="#optional-files设置-1" class="headerlink" title="optional files设置"></a>optional files设置</h2><p>选择超级主影像super master file，这里不选择，程序会自动判断最适合的影像<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/article/SBAS-InSAR/20260209-233148-615.png" alt="在这里插入图片描述"></p>
<h2 id="参数设置-1"><a href="#参数设置-1" class="headerlink" title="参数设置"></a>参数设置</h2><p>单击 Parameters 面板，选择 Principal Parameters，设置以下参数：</p>
<ul>
<li>Min Normal Baseline (%)：0，临界基线最小百分比。</li>
<li>Max Normal Baseline (%)：2，临界基线最大百分比。<br>提示：建议把空间和时间基线阈值调大一些，最大临界基线推荐值为 45%~50%，主要依<br>赖传感器类型和经验，目的是避免完全空间失相关。</li>
<li>Min Temporal Baseline：0，最小时间基线。</li>
<li>Max Temporal Baseline：180，最大时间基线。</li>
<li>Degree of Redundancy：冗余度<br>在对连接（干涉图）选择的最小和最大时间基线和正常基线应用阈值后，可以指定进一步的冗余度选择标准：<ul>
<li>高，接受与先前基线阈值相关的所有干涉图。</li>
<li>低，程序根据图形冗余标准和每次采集的最小连接数，尽量减少保留的干涉图数量</li>
</ul>
</li>
<li>Redundacy Criteria：冗余标准<br>当冗余度较低时，预计以下选择标准用于删除冗余连接：<ul>
<li>最小正常基线，通过仅保留具有最小空间基线的连接，将连接数最小化。</li>
<li>最大正常基线，通过仅保留具有最大空间基线的连接，将连接数最小化。</li>
<li>最小时间基线，通过仅保留具有最小时间基线的连接，将连接数最小化。</li>
</ul>
</li>
<li>Max Connections per Acquisition：最大连接数，撇除后每个采集剩余的连接数（干涉图），以减少冗余。此参数表示连接图的平均冗余，参考文献建议设置大于5的值以获得可靠的反演解。</li>
<li>Allow Disconnected Blocks：False。不允许孤立的像对连接。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/article/SBAS-InSAR/20260209-232134-926.png" alt="在这里插入图片描述"></li>
</ul>
<p>输出面板<br>填写一个文件的根名，后续处理的数据会据此根名自动命名<br>选择输出路径即可<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/article/SBAS-InSAR/20260209-233223-677.png" alt="在这里插入图片描述"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/article/SBAS-InSAR/20260209-232135-516.png" alt="在这里插入图片描述"><br>查看报告</p>
<h2 id="查看输出文件和连接图"><a href="#查看输出文件和连接图" class="headerlink" title="查看输出文件和连接图"></a>查看输出文件和连接图</h2><ul>
<li>在输出目录中可以看到如下的文件，重点看connection_graphy里面的plot和report<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/article/SBAS-InSAR/20260209-232136-726.png" alt="在这里插入图片描述"></li>
<li>auxiliary.sml文件记录相关的处理信息，包括处理进度、步骤和生成的文件记录等，后面会用到<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/article/SBAS-InSAR/20260209-232136-890.png" alt="在这里插入图片描述"></li>
<li>连接图中，<strong>黄点</strong>是超级主影像super master ，这个在报告中也能看到，打开CG_report.txt文件，可以看到super master的信息。<strong>绿点</strong>是从影像，如果有<strong>红点</strong>，就是在限制条件外的影像。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/article/SBAS-InSAR/20260209-233244-361.png" alt="在这里插入图片描述"></li>
<li>像对连接时间基线图<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/article/SBAS-InSAR/20260209-232136-903.png" alt="在这里插入图片描述"></li>
<li>像对连接空间基线图</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/article/SBAS-InSAR/20260209-233257-367.png" alt="在这里插入图片描述"></p>
<h1 id="干涉工作流Interferometric-Process"><a href="#干涉工作流Interferometric-Process" class="headerlink" title="干涉工作流Interferometric Process"></a>干涉工作流Interferometric Process</h1><p><code>SARscape562</code>版本的干涉工作流里面可以<strong>自动进行轨道精炼和重去平</strong>，这一步有点复杂，处理时间也比较久</p>
<ul>
<li>工具路径：<code>/SARscape/Interferometric Stacking/SBAS/2 - Interferometric Process</code><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/article/SBAS-InSAR/20260209-233305-645.png" alt="在这里插入图片描述"></li>
</ul>
<h2 id="Input-Files中选择上一步得到的工程文件auxiliary-sml"><a href="#Input-Files中选择上一步得到的工程文件auxiliary-sml" class="headerlink" title="Input Files中选择上一步得到的工程文件auxiliary.sml"></a>Input Files中选择上一步得到的工程文件auxiliary.sml</h2><p>对所有的配对的干涉像对进行干涉处理，从相干性生成，去平、滤波和相位解缠，所有的数据对都配准到超级主影像上，为下一步轨道精炼和重去平，以及 SBAS 反演做好数据准备。包括：</p>
<ul>
<li>干涉图生成 Interferogram Generation</li>
<li>干涉图去平 Interferogram Flattening</li>
<li>自适应滤波和相干系数生成 Adaptive Filter and Coherence Generation</li>
<li>相位解缠 Phase Unwrapping<br>生成一系列解缠之后的相位图。所有的干涉图最终都与超级主影像进行了配准，为下一<br>步轨道精炼、重去平以及 SBAS 的反演做准备。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/article/SBAS-InSAR/20260209-233313-907.png" alt="在这里插入图片描述"></li>
</ul>
<h2 id="制作参考DEM"><a href="#制作参考DEM" class="headerlink" title="制作参考DEM"></a>制作参考DEM</h2><p>为啥要提前制作DEM呢？因为之前的步骤都不需要用到DEM，但是optional files里面的GCP需要DEM</p>
<ul>
<li>在工具的DEM&#x2F;Cartographic System中，点击DEM file 右边的望远镜符号<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/article/SBAS-InSAR/20260209-232138-916.png" alt="在这里插入图片描述"></li>
<li>选择SRTM-1，会跳出一个新的工具DEM Erxtraction-SRTM1 Version3，<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/article/SBAS-InSAR/20260209-232139-006.png" alt="在这里插入图片描述"></li>
<li>输入位置参考数据，也就是上一步处理好的数据，随便选一个就行，我选的是超级主影像<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/article/SBAS-InSAR/20260209-233325-707.png" alt="在这里插入图片描述"></li>
<li>选择输出文件的坐标GEO-GLOBAL<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/article/SBAS-InSAR/20260209-233334-590.png" alt="在这里插入图片描述"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/article/SBAS-InSAR/20260209-232139-702.png" alt="在这里插入图片描述"></li>
<li>设定好输出路径之后就点击exec开始运行<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/article/SBAS-InSAR/20260209-232140-183.png" alt="在这里插入图片描述"></li>
<li>日常报错<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/article/SBAS-InSAR/20260209-233346-226.png" alt="在这里插入图片描述"><br>其实这一步的过程和前文提到的文章里面一模一样<br>[SARscape手动下载30mDEM（SRTM1 V3）切片数据-<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_41159191/article/details/126794229">EC: 40008]</a></li>
<li>打开<code>SARscape----Administration----View Files----Log File</code><br>拉到最下面，查看DEM切片的名称<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/article/SBAS-InSAR/20260209-232140-956.png" alt="在这里插入图片描述"></li>
<li>去USGS下载这两个切片，不再赘述，看链接里面的文章即可<br>[SARscape手动下载30mDEM（SRTM1 V3）切片数据-<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_41159191/article/details/126794229">EC: 40008]</a></li>
<li>制作好了之后点击文件夹图标直接加载进来<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/article/SBAS-InSAR/20260209-233355-338.png" alt="在这里插入图片描述"></li>
</ul>
<h2 id="parameters设置"><a href="#parameters设置" class="headerlink" title="parameters设置"></a>parameters设置</h2><p>在 Parameters 面板中，选择 Principal Parameters，设置以下参数：</p>
<ul>
<li>Rebuild All：重建所有，如果中断了运算，就重新运算所有的影像，这里选择False</li>
<li>Range Looks 和 Azimuth Looks：多视视数，分别设置 7 和 2，地面分辨就是接近30m，设置视数太低可以提高地面分辨率，但也会提高运算压力。</li>
<li>Grid Size for suggested Looks：网格大小（以米为单位）用于调整距离和方位角外观。如果其他参数是手动设置的，栅格大小将不意味着它们的值发生变化。</li>
<li>Number of Parallel Unwrapping：2 解缠次数，定义将并行执行的解缠次数（每个线程一个干涉图）。此参数不得超过 CPU 线程的总数。在增加并行进程数之前，用户应考虑可用的系统内存，因为内存消耗与并行执行的解包数直接相关。</li>
<li>Apply Layover and Shadow mask：应用分层和阴影遮罩，遮罩覆盖和阴影区域中的结果。</li>
<li>Atmosphere External Sensors：大气外部传感器，选择GACOS，有关GACOS数据的使用方法请阅读文章：<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_41159191/article/details/127453080?ops_request_misc=%7B%22request_id%22:%22168076625016800225582756%22,%22scm%22:%2220140713.130102334.pc_blog.%22%7D&request_id=168076625016800225582756&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~blog~first_rank_ecpm_v1~rank_v31_ecpm-3-127453080-null-null.blog_rank_default&utm_term=sbas&spm=1018.2226.3001.4450">SARScape使用GACOS数据</a></li>
<li>Atmosphere Height Correlation Flag：大气高度相关标志，通过选择此标志，算法使用“高度相关窗口大小[m]”（大气部分）参数定义过滤器的大小，从每个干涉图中估计并移除大气的高度相关分量。这里暂不需要，选择False。</li>
<li>Coregistration With DEM：True</li>
<li>Unwrapping Method Type：Minimum Cost Flow 解缠方法，有三种方法供选择</li>
<li>Unwrapping 3D：False</li>
<li>Unwrapping Decomposition Level：1，解缠分解等级。</li>
</ul>
<blockquote>
<ul>
<li>分解等级：（Unwrapping Decomposition Level）：该分解是为了用迭代的方法对数据做多视和疏采样：干涉图以一个较低的分辨率被解缠然后被重采样成原来的分辨率。使用了分解可减少解缠错误，提高处理效率。用户可以指定迭代的次数，每个迭代相当于3次采样过疏。这里可以填的数有：-1、0、1、2、3。其中，-1和0代表不执行分解，用原始的像素采样，当形变很大或是地形很陡峭的情况下（多相位&#x2F;高密度分布），分解可引起交迭效应，建议设置为-1或0；1代表最小的分解等级。3：最大的分解等级。建议这个次数不要超过3。通常情况设置原始的像素采样（如-1）或者最小的分解等级（1）。<br>对大范围分布的低相干性区域，这里设置分解等级为 2，提高解缠的质量及处理效率，减少解缠错误<br>————————————————<br>引用声明：该段文字引用自文章：<a target="_blank" rel="noopener" href="https://www.cnblogs.com/enviidl/p/16289331.html">ENVI-IDL技术殿堂，用哨兵1A干涉数据对DInSAR测量台湾地震引起的地表形变信息</a></li>
</ul>
</blockquote>
<ul>
<li>Unwrapping Coherence Threshold：0.2，解缠相关系数阈值。</li>
<li>Filtering method：Goldstein 滤波方法<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/article/SBAS-InSAR/20260209-233406-261.png" alt="在这里插入图片描述"></li>
<li>运行成功<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/article/SBAS-InSAR/20260209-233413-231.png" alt="在这里插入图片描述"></li>
</ul>
<blockquote>
<ul>
<li>这一步是 SBAS 处理中运行时间最长的一步。这一步做完后，会生成一系列结果，包括各个像对去平和滤波后的干涉图(<em>_fint)，相干系数图 (</em>_cc) 、解缠结果 (<em>_upha)和斜距下的强度数（</em>_slant_pwr），干涉处理的文件夹在根目录下面( interferogram_stacking)，包含一个索引文件（meta file），能打开所有的干涉处理的结果。生成一个 “interf_tiff”的文件夹，包含所有结果的 TIFF 格式结果，存放在 interferogram_stacking 文件夹下面，便于可视化查看。</li>
<li>查看解缠结果（IS_upha_list_meta）和相应的相干性图(IS_cc_list_meta)，看有无相干性低和解缠结果不好的像对。<br>说明：这一步之后，<strong>检查数据和调整相应的参数</strong>可以参考下面几点说明：</li>
</ul>
<ol>
<li>查看去平和滤波后的干涉图，可以确定对干涉滤波器的调整，如果很多干涉图都是低相干的区域，可以增加滤波强度，如果高相干区域太多，如有大量干的区域存在，可以减小滤波的强度。Goldstein 是推荐的滤波方法。如果要增强滤波效果，<br>在设置参数的滤波面板下（Adaptive Filter Default Values），增加 alphas values 值和&#x2F;或窗口大小 (窗口大小和条纹频率有关：密集的条纹应该用较小的窗口)</li>
<li>查看解缠后的图，可以确定相干性阈值、解缠方法、分解等级等</li>
</ol>
<ul>
<li>相干性阈值：如果解缠的结果中有很多噪声的话，可以增加相干性阈值，如果解缠结果比较少，可以减少相干性阈值。</li>
<li>SBAS 推荐的默认解缠方法是 Delaunay MCF (如果选择 3D 解缠方法的话，这个方法是必执行的), 因为这种方法可以很好的处理两个较孤立的相干性高的区域，这对潮湿或植被区域是常见的，在绝大多数情况下都是可行的解缠方法，如果有特殊情况比如存在很大的残余地形或形变，可以尝试经典的 MCF 方法。</li>
</ul>
<ol>
<li>分解等级：通常执行原始的像素采样（如-1 或者 0）或者最小的分解等级（1），该分解是为了用迭代的方法对数据做多视和疏采样：干涉图以一个较低的分辨率被解缠然后被重采样成原来的分辨率。</li>
</ol>
<ul>
<li>使用分解可减少解缠错误（对分布的低相干性的区域），提高处理效率。用户可以指定迭代的次数，每个迭代相当于 3 次采样过疏，建议这个次数不要超过 3。当形变很大或是地形很陡峭的情况下（相位变化快&#x2F;密度大的干涉条纹），分解可引起交迭效应，在这种情况下，设置值为-1，不执行分解。</li>
<li>对大范围分布的低相干性区域，这里设置分解等级为 2，提高解缠的质量及处理效率，减少解缠错误。</li>
</ul>
<ol>
<li>需要注意的是：分解等级设置较大的话，宏观上的效果比较好（如数据处理速度提高），但是会引起局部区域的不连续，等级设置高可能会引起假信号问题，在第一次解缠的时候用这个等级，在第二次解缠的时候就在简化了的去平和滤波后的干涉图（去除了位移速率和地形残差）上进行，这种情况下，推荐设置解缠等级为 2。<br>————————————————<br>引用声明：该段文字引用自文档：[ENVI-SARscape入门教程-第8章短基线SBAS]<br><strong>如果侵权请联系我删除，谢谢！</strong></li>
</ol>
</blockquote>
<h2 id="输出文件"><a href="#输出文件" class="headerlink" title="输出文件"></a>输出文件</h2><ul>
<li>这一步的处理虽然没有标识输出文件目录，但也可以找到，位于<code>SBAS_processing</code>文件夹中</li>
</ul>
<ol>
<li><strong>interferogram_stacking文件夹</strong><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/article/SBAS-InSAR/20260209-232141-981.png" alt="在这里插入图片描述"></li>
</ol>
<p>包含以下产品的目录：</p>
<ul>
<li>由于输出产品大量元数据（_meta）。并生成时间序列 （.series）.文件，因此能够同时加载所有相关的输出产品：</li>
<li>“interf_tiff”子文件夹，其中包含中间干涉测量 SBAS 结果的 tiff 文件。</li>
</ul>
<p>生成的元数据和时间序列文件：</p>
<ul>
<li>IS_cc_meta，IS_cc.series，指的是所有相干图像。</li>
<li>IS_fint_meta，IS_fint.series，指的是所有去平地和滤波的干涉图。</li>
<li>IS_clean_fint_meta，IS_clean_fint.series，指的是所有去平地，过滤和合并平滑噪点（由可选过程输出）的干涉图。</li>
<li>IS_upha_meta，IS_upha.series，指的是所有相位解缠。请注意，此扩展用于在 SBAS 反演第一步中生成的第 2 级未解缠的产品。</li>
<li>IS_pwr_meta，IS_pwr.series，指的是所有斜距影像。</li>
<li>IS_ls_mask：斜距影像中的叠掩和阴影（用作永久掩膜）。</li>
<li>IS_geo_ls_mask：地理投影影像中的叠掩和阴影掩膜。</li>
<li>IS_srlia：斜距影像的局部入射角图。</li>
<li>IS_geo_lia：地理投影影像的局部入射角图。</li>
<li>IS_cls_mask：斜距影像的分类图（用作特定ID上的永久掩膜）。</li>
<li>IS_elevation_mask：斜距影像的高程掩膜（用作用户指定的开始和结束月份之间的间歇性掩膜）。</li>
</ul>
<ol>
<li><strong>work_interferogram_stacking文件夹</strong><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/article/SBAS-InSAR/20260209-232142-498.png" alt="在这里插入图片描述"></li>
</ol>
<p>用于存储中间处理结果的目录。</p>
<ul>
<li>为了区分每个输出产品的来源输入SAR影像对（以及在连接网络中识别它），将添加一个包含主从采集日期（即yyyymmdd）和主从关系的前缀。</li>
</ul>
<h2 id="optional-files设置-2"><a href="#optional-files设置-2" class="headerlink" title="optional files设置"></a>optional files设置</h2><h3 id="Avoid-Moving-Area-File-，无位移区域，可选"><a href="#Avoid-Moving-Area-File-，无位移区域，可选" class="headerlink" title="Avoid Moving Area File ，无位移区域，可选"></a>Avoid Moving Area File ，无位移区域，可选</h3><ul>
<li>如果已知受位移影响的区域，建议创建包含移动区域的 shapefile （.shp），必须对此 shapefile 进行地理编码（使用与参考 DEM 相同的 carto 系统）。在光谱分集估计阶段，将避免与此形状文件相交的所有扫描SAR或TOPSAR突发（否则，在地震等强烈运动的情况下，这些脉冲将被破坏）。此外，后续的自动细化步骤还将考虑此形状，以避免在细化掩膜中使用移动区域上的像素。</li>
</ul>
<h3 id="Optional-Water-Vapour-File-List，水蒸气数据，可用GACOS数据，可选"><a href="#Optional-Water-Vapour-File-List，水蒸气数据，可用GACOS数据，可选" class="headerlink" title="Optional Water Vapour File List，水蒸气数据，可用GACOS数据，可选"></a>Optional Water Vapour File List，水蒸气数据，可用GACOS数据，可选</h3><ul>
<li>包含 GACOS 产品水蒸气数据的文件列表（_filename_list.txt; <em>_bil）。初始化并编译列表后，软件将从干涉图中删除水蒸气成分（</em>_clean_fint）。必须为每个输入影像插入 GACOS 栅格（采集日期和时间相同）。联轴器由软件自动制造。有关GACOS数据的下载和使用细节请参考文章：<br><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_41159191/article/details/127453080?spm=1001.2014.3001.5501">SARScape使用GACOS数据</a><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/article/SBAS-InSAR/20260209-232143-000.png" alt="在这里插入图片描述"></li>
</ul>
<h3 id="Classification-Mask-File，分类掩膜文件"><a href="#Classification-Mask-File，分类掩膜文件" class="headerlink" title="Classification Mask File，分类掩膜文件"></a>Classification Mask File，分类掩膜文件</h3><ul>
<li>地理编码几何分类地图，用于在 SBAS 处理期间遮盖特定区域。屏蔽区域在整个相干堆栈上的值为零，并且不会被展开考虑，也不会成为最终覆盖图的一部分。“分类掩码 ID 列表”ID 被视为要掩码的区域。</li>
</ul>
<h1 id="连接图编辑SBAS-Edit-Connection-Graph"><a href="#连接图编辑SBAS-Edit-Connection-Graph" class="headerlink" title="连接图编辑SBAS Edit Connection Graph"></a>连接图编辑SBAS Edit Connection Graph</h1><ul>
<li>依次查看上一步生成的各个像对的相干性图（_cc）和解缠结果图（upha），若有相干性低的，就用连接图编辑工具对该像对移除。</li>
<li>可以直接查看…\interferogram_stacking\ interf_tiff 中的 Tiff 格式文件。或者在 ENVI 中打开解缠结果（IS_upha_meta）、相干性图(IS_cc_meta)、滤波后干涉图（IS_fint_meta），在 ENVI 中浏览这些结果。</li>
<li>由于每个人的经验不一样，判断需要移除的数据对也会不一样。这里总结一下需要剔<br>除的像对的常用标准：<br>1．如果干涉处理时候用了 3D 解缠的方法，建议保留（得到的结果含有 3D_del_upha 结果的说明进行的是 3D 解缠）；<br>2．相干系数图、滤波后的干涉图、相位解缠图，只要其中一个结果较好，建议保留；<br>3．得到的结果含有明显的大气相位，建议剔除；</li>
</ul>
<p>工具路径：<code>/SARscape/Interferometric Stacking/Stacking Tools/SBAS Edit Connection Graph</code></p>
<h2 id="打开auxiliary-sml文件，会自动加载连接图，自动选择主影像"><a href="#打开auxiliary-sml文件，会自动加载连接图，自动选择主影像" class="headerlink" title="打开auxiliary.sml文件，会自动加载连接图，自动选择主影像"></a>打开auxiliary.sml文件，会自动加载连接图，自动选择主影像</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/article/SBAS-InSAR/20260209-233430-567.png" alt="在这里插入图片描述"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/article/SBAS-InSAR/20260209-233436-943.png" alt="在这里插入图片描述"></p>
<h2 id="连接图编辑的参数说明"><a href="#连接图编辑的参数说明" class="headerlink" title="连接图编辑的参数说明"></a>连接图编辑的参数说明</h2><p>在工具页面，我们可以看到很多参数，尤其是SARScape5.6.2版本，有更多的可设置项目<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/article/SBAS-InSAR/20260209-232143-560.png" alt="在这里插入图片描述"></p>
<ul>
<li>Automatic 自动<br>点击删除影像对编辑对将相应地使用 “自动剔除强不连续性 （%）”、“自动剔除高标准差 （%）”和“自动剔除低重叠率 （%）”参数自动完成。丢弃和保留stacking元数据&#x2F;时间序列作为自动编辑工具行为的可视化描述生成。相应的最后处理的解缠元数据&#x2F;时间序列也会更新。</li>
<li>Add Pairs 添加影像对<br>在“主列表”和“从列表”中选择的对将添加到原始连接网络中。必须从<strong>干涉工作流</strong>中重新运行该过程。不处理上一次迭代中处理的干涉对;只有新条目才会被处理。</li>
<li>Remove Pairs 删除影像对<br>仅在“从列表”中选择的影像将从原始连接网络中删除。可多选。</li>
<li>Add Images 添加影像<br>输入影像列表将添加到原始连接网络中。必须从<strong>干涉工作流</strong>中重新运行该过程。不处理上一次迭代中处理的干涉对;只有新条目才会被处理。</li>
<li>Remove Images 删除影像<br>在“主列表”或“从列表”中选择的影像将从原始连接网络中删除。</li>
<li>Reject Automatic Strong Discontinuities (%) 自动剔除强不连续性 （%）<br>通过将剔除阈值设置为高于零并单击“ SBAS 编辑连接图”面板的“自动”按钮，最差的干涉图（整个干涉图stacking的百分比）将从stacking中剔除。解缠干涉图排序的衡量指标是相对于有效像素数的间断相位周期数。</li>
<li>Edit Reject Automatic High Std (%) 自动剔除高标准差 （%）<br>通过将剔除阈值设置为高于零并单击“ SBAS 编辑连接图”面板的“自动”按钮，最差的干涉图（整个干涉图stacking的百分比）将从stacking中剔除。相应的最后处理的解缠元数据&#x2F;时间序列也会更新。展开干涉图排序的度量是标准差。</li>
<li>Edit Reject Automatic Poor Coverage (%)自动剔除低重叠率 （%）<br>通过将剔除阈值设置为高于零并单击“ SBAS 编辑连接图”面板的“自动”按钮，最差的干涉图（整个干涉图stacking的百分比）将从stacking中丢弃。相应的最后处理的解缠元数据&#x2F;时间序列也会更新。展开干涉图排序的衡量指标是有效像素覆盖率。</li>
<li>Undo 撤销<br>恢复以前的连接网络。</li>
</ul>
<h2 id="连接图编辑操作"><a href="#连接图编辑操作" class="headerlink" title="连接图编辑操作"></a>连接图编辑操作</h2><p><strong>再次说明：</strong></p>
<ul>
<li>由于每个人的经验不一样，判断需要移除的数据对也会不一样。这里总结一下需要剔<br>除的像对的常用标准：<br>1．如果干涉处理时候用了 3D 解缠的方法，建议保留（得到的结果含有 3D_del_upha 结果的说明进行的是 3D 解缠）；<br>2．相干系数图_cc，一般亮度值比较高的相干性好；滤波后的干涉图_fint；相位解缠图_upha，最好是没有空洞和相位孤岛；只要其中一个结果较好，建议保留；<br>3．得到的结果含有明显的大气相位，建议剔除；</li>
<li>在<code>\interferogram_stacking\interf_tiff</code>文件夹中可以看到干涉工作流处理的结果，打开文件夹，打开<strong>查看</strong>，选择<strong>超大图标</strong>，这样就能在文件夹中预览结果了，当然也可以一张张放大了仔细看.</li>
<li>从数据名中解读影像对，数据名中的m代表master，表示主影像，m_0表示编号为0的主影像，20200110_m_0表示主影像是编号为0的日期为20200110的影像，s表示slave，从影像，20200122_s_1表示日期为20200122编号为1的从影像。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/article/SBAS-InSAR/20260209-233450-975.png" alt="在这里插入图片描述"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/article/SBAS-InSAR/20260209-233456-902.png" alt="在这里插入图片描述"></li>
<li>删除效果不好的数据对，先点击主影像列，在点击从影像列，最后点击删除对<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/article/SBAS-InSAR/20260209-232145-079.png" alt="在这里插入图片描述"></li>
<li>点击之后会弹出计算窗口，很快就会显示编辑完成<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/article/SBAS-InSAR/20260209-233507-666.png" alt="在这里插入图片描述"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/article/SBAS-InSAR/20260209-232145-158.png" alt="在这里插入图片描述"></li>
<li>Actual Step显示编辑次数，编辑好了之后即可关闭窗口<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/article/SBAS-InSAR/20260209-233515-019.png" alt="在这里插入图片描述"></li>
</ul>
<h1 id="轨道精炼和重去平"><a href="#轨道精炼和重去平" class="headerlink" title="轨道精炼和重去平"></a>轨道精炼和重去平</h1><p>SARscape562集成在干涉数据流中，560及以下版本在SABS工具路径中</p>
<p>由于我用的是SARscape562，这一步已经集成在<strong>第五节-干涉工作流Interferometric Proces</strong>s中了<br>如果读者使用的是SARscape560及以前版本，请参考如下内容：</p>
<blockquote>
<p>下面的内容是在【ENVI-SARscape新手教程中的摘抄】<br>这一步的目的是估算和去除残余的恒定相位和解缠后还存在的相位坡道。<br>(1) 在 Toolbox 中，打开&#x2F;SARscape&#x2F;Interferometric Stacking&#x2F;SBAS&#x2F;3 - Refinement and Re-Flattening。<br>(2) 在 Input Files 面板中，在 Auxiliary file 选项中选择 auxiliary.sml。<br>(3) 在 Refinement GCP file 选择中，单击<img class="inline-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/article/SBAS-InSAR/20260209-233528-460.png" style="height:25px"/>按钮创建 GCP，在打开的 Generate Ground<br>Control Points 面板中，分别选择三个文件：<br>• Input File：必选项。用于 GCP 定位。这里选择一个数据对的解缠结果文件。<br>• DEM File：可选项。用于检测 GCP 对应的高程值。这里选择 DEM 文件。<br>• Reference File：可选项。为选择 GCP 提供一个参考依据，可以选择相干系数图、干涉图等，如这里选择一个去平和滤波后的干涉图，可以在判断地形和形变区域时提供参考。Reference File 与 Input File 同时显示在一个窗口中。<br><strong>注</strong>：1、Input File 可以选择斜距投影（方位向和距离向）或者地理投影（x、y、z，其中z 自动从 DEM 数据中获取）数据，但同一个工程中只用一种投影方式（后续还有用到GCP 的地方）。这点不同于基本处理中的地理编码（basic geocoding）或者干涉图去平处理（the interferogram flattening）。典型的方式是在斜距数据上选择 GCP。除非 GCP 文件需要用在其他轨道数据上，这种情况就应该在地理投影的数据上选择。<br>2、在 SBAS 处理中，利用 GCP 是对所有数据对进行重去平，因此在选择 Input File文件的时候，如选择解缠结果文件作为 Input File，定位的 GCP 需要在所有数据对的解缠结果文件中都符合标准。建议在上一步检查数据对中间结果的时候就选择好一对可用于选择控制点的数据。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/article/SBAS-InSAR/20260209-232146-573.png" alt="在这里插入图片描述"><br>(4) 在 Generate Ground Control Points 面板中，单击能 Next 进入 GCP 选择面板。<br>(5) 利用鼠标功能在窗口中选择控制点。<br><strong>说明</strong>：选择 GCP 重要的标准包括：<br>1、没有残余地形条纹；<br>2、没有形变条纹，远离形变区域，除非已知这个点的形变速率；<br>3、没有相位跃变，如果 GCP 点位于一个孤立相位上，并且解缠的值非常差，这个位置可能是斜坡相位（phase ramp）的一部分，那么选择的这个 GCP 是不对的；<br>4、由于在 SBAS 中，很难找到完美的 GCP 可以全部用在所有的数据对中，因为数据对拥有不同的相干性。因此建议多选择一些 GCP，至少 20-30 个点。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/article/SBAS-InSAR/20260209-233542-004.png" alt="在这里插入图片描述"><br>(6) 选择好控制点之后，Cartographic System 中默认为全球经纬度投影（输入的 DEM 文件的坐标系作为参考地理坐标系）<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/article/SBAS-InSAR/20260209-233551-194.png" alt="在这里插入图片描述"><br>(7) 选择 Export 选项，默认自动选择一个输出路径和文件名，单击 Finish 按钮完成 GCP选择工作。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/article/SBAS-InSAR/20260209-233558-725.png" alt="在这里插入图片描述"><br>(8) 回到 Refinement and Re-Flattening 面板中。在 Input Files 面板，自动输入上一步得到的控制点文件；<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/article/SBAS-InSAR/20260209-233604-993.png" alt="在这里插入图片描述"><br>(9) 单击 DEM&#x2F;Cartographic System 面板，选择 dem 文件。<br>(10) 单击 Parameters 面板，选择 Principal Parameters 选项，设置以下参数：<br>• Rebuild All：False<br>• Refinement method：轨道精炼方法。这里选择 Polynomial Refinement，<br>• Refinement Residual Phase Polynomial Degree：3，精炼残余相位多项式次数。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/article/SBAS-InSAR/20260209-232147-187.png" alt="在这里插入图片描述"><br>(11) 单击 Exec 按钮执行处理。点击 Exec 进行处理。<br>轨 道 精 炼 之 后 ， 在 件 ， 路 径 为 ：XX_SBAS_processing\work\work_interferogram_stacking\IS_20171116_m_8_20170520_s_2_upha_refinement.shp。<br>在矢量图层上点击右键选择 View&#x2F;Edit Attributes，打开属性表，查看 AbsResDiff 一列，把值比较大的点的 ID 号记录下来，以便稍后编辑。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/article/SBAS-InSAR/20260209-232148-751.png" alt="在这里插入图片描述"><br>相同的操作重新打开轨道精炼工具，导入数据，在 GCP 面板，导入上一次 GCP 点之后，把刚记录的误差大的点删除，在参数面板，设置 Rebuild All 为 True，重新进行一次轨道精炼。<br>同样的方法检查 GCP 点的属性，直到每个点的残差值都为一个较小的值。<br>————————————————<br>引用声明：该段文字引用自文档：[ENVI-SARscape入门教程-第8章短基线SBAS]<br><strong>如果侵权请在评论区或私信联系我删除！谢谢</strong></p>
</blockquote>
</article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/other/avatar.jpg" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/other/avatar.jpg" title="头像" alt="头像"></a><div class="post-copyright__author_name">Ramsayi</div><div class="post-copyright__author_desc">这个人很懒，什么都填了</div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="https://ramsayi.github.io/posts/91436fab/">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('https://ramsayi.github.io/posts/91436fab/')">SARScape中用sentinel-1数据做SBAS-InSAR完整流程（1/2）</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"><div class="post-reward" onclick="anzhiyu.addRewardMask()"><div class="reward-button button--animated" title="赞赏作者"><i class="anzhiyufont anzhiyu-icon-hand-heart-fill"></i>打赏作者</div><div class="reward-main"><div class="reward-all"><span class="reward-title">感谢你赐予我前进的力量</span><ul class="reward-group"><li class="reward-item"><a href="https://cdn.jsdelivr.net/gh/ramsayi/assets/other/wechat.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/other/wechat.png" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://cdn.jsdelivr.net/gh/ramsayi/assets/other/alipay.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/other/alipay.png" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul><a class="reward-main-btn" href="/about/#about-reward" target="_blank"><div class="reward-text">赞赏者名单</div><div class="reward-dec">因为你们的支持让我意识到写文章的价值🙏</div></a></div></div></div><div id="quit-box" onclick="anzhiyu.removeRewardMask()" style="display: none"></div></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="https://ramsayi.github.io/posts/91436fab/"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=SARScape中用sentinel-1数据做SBAS-InSAR完整流程（1/2）&amp;url=https://ramsayi.github.io/posts/91436fab/&amp;pic=https://cdn.jsdelivr.net/gh/ramsayi/assets/banner/sarscape-01.webp" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><script>function copyCurrentPageUrl() {
  var currentPageUrl = window.location.href;
  var input = document.createElement("input");
  input.setAttribute("value", currentPageUrl);
  document.body.appendChild(input);
  input.select();
  input.setSelectionRange(0, 99999);
  document.execCommand("copy");
  document.body.removeChild(input);
}</script><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="copyCurrentPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://ramsayi.github.io" target="_blank">Ramsayi</a>！</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__category-list"><a class="post-meta__box__categoryes" href="/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/"><span class="categoryes-punctuation"> <i class="anzhiyufont anzhiyu-icon-inbox"></i></span>技术学习<span class="categoryesPageCount">133</span></a><a class="post-meta__box__categoryes" href="/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/ENVI/"><span class="categoryes-punctuation"> <i class="anzhiyufont anzhiyu-icon-inbox"></i></span>ENVI<span class="categoryesPageCount">3</span></a></div><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/ENVI/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>ENVI<span class="tagsPageCount">3</span></a><a class="post-meta__box__tags" href="/tags/SARscape/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>SARscape<span class="tagsPageCount">3</span></a></div></div></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/4e290ddc/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/banner/neo4j-01.webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Neo4j图数据库</div></div></a></div><div class="next-post pull-right"><a href="/posts/17d71d05/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/banner/sarscape-01.webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">SARScape中用sentinel-1数据做SBAS-InSAR完整流程（2/2）</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="anzhiyufont anzhiyu-icon-thumbs-up fa-fw" style="font-size: 1.5rem; margin-right: 4px"></i><span>喜欢这篇文章的人也看了</span></div><div class="relatedPosts-list"><div><a href="/posts/36da500e/" title="SARscape中SAR数据处理准备工作总结"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/banner/sarscape-01.webp" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-09-19</div><div class="title">SARscape中SAR数据处理准备工作总结</div></div></a></div><div><a href="/posts/17d71d05/" title="SARScape中用sentinel-1数据做SBAS-InSAR完整流程（2&#x2F;2）"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/banner/sarscape-01.webp" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2026-02-10</div><div class="title">SARScape中用sentinel-1数据做SBAS-InSAR完整流程（2&#x2F;2）</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="anzhiyufont anzhiyu-icon-comments"></i><span> 评论</span></div><div class="comment-randomInfo"><a onclick="anzhiyu.addRandomCommentInfo()" href="javascript:void(0)">匿名评论</a><a href="/privacy" style="margin-left: 4px">隐私政策</a></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div><div class="comment-barrage"></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info__sayhi" id="author-info__sayhi" onclick="anzhiyu.changeSayHelloText()"></div><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/other/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-status"><img class="g-status" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/08/24/64e6ce9c507bb.png" alt="status"/></div></div><div class="author-info__description"><div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(255, 255, 255, 0.8);">这有关于<b style="color:#fff">产品、设计、开发</b>相关的问题和看法，还有<b style="color:#fff">文章翻译</b>和<b style="color:#fff">分享</b>。</div><div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(255, 255, 255, 0.8);">相信你可以在这里找到对你有用的<b style="color:#fff">知识</b>和<b style="color:#fff">教程</b>。</div></div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/"><h1 class="author-info__name">Ramsayi</h1><div class="author-info__desc">这个人很懒，什么都填了</div></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://github.com/ramsayi" target="_blank" title="Github"><i class="anzhiyufont anzhiyu-icon-github"></i></a><a class="social-icon faa-parent animated-hover" href="https://space.bilibili.com/354247938" target="_blank" title="BiliBili"><i class="anzhiyufont anzhiyu-icon-bilibili"></i></a></div></div></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bullhorn anzhiyu-shake"></i><span>公告</span></div><div class="announcement_content">欢迎来看我的博客鸭~</div></div><div class="card-widget anzhiyu-right-widget" id="card-wechat" onclick="null"><div id="flip-wrapper"><div id="flip-content"><div class="face" style="background: url(https://bu.dusays.com/2023/01/13/63c02edf44033.png) center center / 100% no-repeat"></div><div class="back face" style="background: url(https://bu.dusays.com/2023/05/13/645fa415e8694.png) center center / 100% no-repeat"></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#SABS-InSAR%E5%8E%9F%E7%90%86%E7%AE%80%E8%BF%B0"><span class="toc-number">1.</span> <span class="toc-text">SABS-InSAR原理简述</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E9%87%87%E9%9B%86%E5%92%8C%E9%A2%84%E8%AE%BE"><span class="toc-number">2.</span> <span class="toc-text">数据采集和预设</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#SAR%E6%95%B0%E6%8D%AE%E9%87%87%E9%9B%86"><span class="toc-number">2.1.</span> <span class="toc-text">SAR数据采集</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DEM%E6%95%B0%E6%8D%AE%E4%B8%8B%E8%BD%BD%E4%B8%8E%E6%94%BE%E7%BD%AE"><span class="toc-number">2.2.</span> <span class="toc-text">DEM数据下载与放置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B2%BE%E5%AF%86%E8%BD%A8%E9%81%93%E6%95%B0%E6%8D%AE%E4%B8%8B%E8%BD%BD%E4%B8%8E%E6%94%BE%E7%BD%AE"><span class="toc-number">2.3.</span> <span class="toc-text">精密轨道数据下载与放置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%B6%E4%BD%9C%E7%A0%94%E7%A9%B6%E5%8C%BA%E8%8C%83%E5%9B%B4%E7%9F%A2%E9%87%8F"><span class="toc-number">2.4.</span> <span class="toc-text">制作研究区范围矢量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SARscape-Preferences%E9%A2%84%E8%AE%BE"><span class="toc-number">2.5.</span> <span class="toc-text">SARscape Preferences预设</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#SAR%E6%95%B0%E6%8D%AE%E9%A2%84%E5%A4%84%E7%90%86"><span class="toc-number">3.</span> <span class="toc-text">SAR数据预处理</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%BC%E5%85%A5%E6%95%B0%E6%8D%AE"><span class="toc-number">3.1.</span> <span class="toc-text">导入数据</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#optional-files%E8%AE%BE%E7%BD%AE"><span class="toc-number">3.2.</span> <span class="toc-text">optional files设置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E6%95%B0%E8%AE%BE%E7%BD%AE"><span class="toc-number">3.3.</span> <span class="toc-text">参数设置</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E8%BF%9E%E6%8E%A5%E5%9B%BEConnection-Graph"><span class="toc-number">4.</span> <span class="toc-text">生成连接图Connection Graph</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E6%95%B0%E6%8D%AE"><span class="toc-number">4.1.</span> <span class="toc-text">输入数据</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#optional-files%E8%AE%BE%E7%BD%AE-1"><span class="toc-number">4.2.</span> <span class="toc-text">optional files设置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E6%95%B0%E8%AE%BE%E7%BD%AE-1"><span class="toc-number">4.3.</span> <span class="toc-text">参数设置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E8%BE%93%E5%87%BA%E6%96%87%E4%BB%B6%E5%92%8C%E8%BF%9E%E6%8E%A5%E5%9B%BE"><span class="toc-number">4.4.</span> <span class="toc-text">查看输出文件和连接图</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B9%B2%E6%B6%89%E5%B7%A5%E4%BD%9C%E6%B5%81Interferometric-Process"><span class="toc-number">5.</span> <span class="toc-text">干涉工作流Interferometric Process</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Input-Files%E4%B8%AD%E9%80%89%E6%8B%A9%E4%B8%8A%E4%B8%80%E6%AD%A5%E5%BE%97%E5%88%B0%E7%9A%84%E5%B7%A5%E7%A8%8B%E6%96%87%E4%BB%B6auxiliary-sml"><span class="toc-number">5.1.</span> <span class="toc-text">Input Files中选择上一步得到的工程文件auxiliary.sml</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%B6%E4%BD%9C%E5%8F%82%E8%80%83DEM"><span class="toc-number">5.2.</span> <span class="toc-text">制作参考DEM</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#parameters%E8%AE%BE%E7%BD%AE"><span class="toc-number">5.3.</span> <span class="toc-text">parameters设置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BE%93%E5%87%BA%E6%96%87%E4%BB%B6"><span class="toc-number">5.4.</span> <span class="toc-text">输出文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#optional-files%E8%AE%BE%E7%BD%AE-2"><span class="toc-number">5.5.</span> <span class="toc-text">optional files设置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Avoid-Moving-Area-File-%EF%BC%8C%E6%97%A0%E4%BD%8D%E7%A7%BB%E5%8C%BA%E5%9F%9F%EF%BC%8C%E5%8F%AF%E9%80%89"><span class="toc-number">5.5.1.</span> <span class="toc-text">Avoid Moving Area File ，无位移区域，可选</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Optional-Water-Vapour-File-List%EF%BC%8C%E6%B0%B4%E8%92%B8%E6%B0%94%E6%95%B0%E6%8D%AE%EF%BC%8C%E5%8F%AF%E7%94%A8GACOS%E6%95%B0%E6%8D%AE%EF%BC%8C%E5%8F%AF%E9%80%89"><span class="toc-number">5.5.2.</span> <span class="toc-text">Optional Water Vapour File List，水蒸气数据，可用GACOS数据，可选</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Classification-Mask-File%EF%BC%8C%E5%88%86%E7%B1%BB%E6%8E%A9%E8%86%9C%E6%96%87%E4%BB%B6"><span class="toc-number">5.5.3.</span> <span class="toc-text">Classification Mask File，分类掩膜文件</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%BF%9E%E6%8E%A5%E5%9B%BE%E7%BC%96%E8%BE%91SBAS-Edit-Connection-Graph"><span class="toc-number">6.</span> <span class="toc-text">连接图编辑SBAS Edit Connection Graph</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%93%E5%BC%80auxiliary-sml%E6%96%87%E4%BB%B6%EF%BC%8C%E4%BC%9A%E8%87%AA%E5%8A%A8%E5%8A%A0%E8%BD%BD%E8%BF%9E%E6%8E%A5%E5%9B%BE%EF%BC%8C%E8%87%AA%E5%8A%A8%E9%80%89%E6%8B%A9%E4%B8%BB%E5%BD%B1%E5%83%8F"><span class="toc-number">6.1.</span> <span class="toc-text">打开auxiliary.sml文件，会自动加载连接图，自动选择主影像</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9E%E6%8E%A5%E5%9B%BE%E7%BC%96%E8%BE%91%E7%9A%84%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E"><span class="toc-number">6.2.</span> <span class="toc-text">连接图编辑的参数说明</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9E%E6%8E%A5%E5%9B%BE%E7%BC%96%E8%BE%91%E6%93%8D%E4%BD%9C"><span class="toc-number">6.3.</span> <span class="toc-text">连接图编辑操作</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%BD%A8%E9%81%93%E7%B2%BE%E7%82%BC%E5%92%8C%E9%87%8D%E5%8E%BB%E5%B9%B3"><span class="toc-number">7.</span> <span class="toc-text">轨道精炼和重去平</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>最近发布</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/17d71d05/" title="SARScape中用sentinel-1数据做SBAS-InSAR完整流程（2/2）"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/banner/sarscape-01.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="SARScape中用sentinel-1数据做SBAS-InSAR完整流程（2/2）"/></a><div class="content"><a class="title" href="/posts/17d71d05/" title="SARScape中用sentinel-1数据做SBAS-InSAR完整流程（2/2）">SARScape中用sentinel-1数据做SBAS-InSAR完整流程（2/2）</a><time datetime="2026-02-09T16:50:37.000Z" title="发表于 2026-02-10 00:50:37">2026-02-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/91436fab/" title="SARScape中用sentinel-1数据做SBAS-InSAR完整流程（1/2）"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/banner/sarscape-01.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="SARScape中用sentinel-1数据做SBAS-InSAR完整流程（1/2）"/></a><div class="content"><a class="title" href="/posts/91436fab/" title="SARScape中用sentinel-1数据做SBAS-InSAR完整流程（1/2）">SARScape中用sentinel-1数据做SBAS-InSAR完整流程（1/2）</a><time datetime="2026-02-09T12:01:32.000Z" title="发表于 2026-02-09 20:01:32">2026-02-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/4e290ddc/" title="Neo4j图数据库"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/banner/neo4j-01.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Neo4j图数据库"/></a><div class="content"><a class="title" href="/posts/4e290ddc/" title="Neo4j图数据库">Neo4j图数据库</a><time datetime="2025-03-26T03:59:19.000Z" title="发表于 2025-03-26 11:59:19">2025-03-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/c6f5a50c/" title="Cesium入门到精通"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/banner/cesium-01.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Cesium入门到精通"/></a><div class="content"><a class="title" href="/posts/c6f5a50c/" title="Cesium入门到精通">Cesium入门到精通</a><time datetime="2025-03-18T01:42:41.000Z" title="发表于 2025-03-18 09:42:41">2025-03-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/261ddbfa/" title="Windows系统重装优化指南"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/banner/windows11.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Windows系统重装优化指南"/></a><div class="content"><a class="title" href="/posts/261ddbfa/" title="Windows系统重装优化指南">Windows系统重装优化指南</a><time datetime="2024-08-14T05:35:56.000Z" title="发表于 2024-08-14 13:35:56">2024-08-14</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div id="footer_deal"><a class="deal_link" href="mailto:anzhiyu-c@qq.com" title="email"><i class="anzhiyufont anzhiyu-icon-envelope"></i></a><a class="deal_link" target="_blank" rel="noopener" href="https://weibo.com/u/6378063631" title="微博"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a><a class="deal_link" target="_blank" rel="noopener" href="https://www.facebook.com/profile.php?id=100092208016287&amp;sk=about" title="facebook"><i class="anzhiyufont anzhiyu-icon-facebook1"></i></a><a class="deal_link" href="/atom.xml" title="RSS"><i class="anzhiyufont anzhiyu-icon-rss"></i></a><img class="footer_mini_logo" title="返回顶部" alt="返回顶部" onclick="anzhiyu.scrollToDest(0, 500)" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/ramsayi/assets/other/avatar.jpg" size="50px"/><a class="deal_link" target="_blank" rel="noopener" href="https://github.com/anzhiyu-c" title="Github"><i class="anzhiyufont anzhiyu-icon-github"></i></a><a class="deal_link" target="_blank" rel="noopener" href="https://space.bilibili.com/372204786" title="Bilibili"><i class="anzhiyufont anzhiyu-icon-bilibili"></i></a><a class="deal_link" target="_blank" rel="noopener" href="https://v.douyin.com/DwCpMEy/" title="抖音"><i class="anzhiyufont anzhiyu-icon-tiktok"></i></a><a class="deal_link" href="/copyright" title="CC"><i class="anzhiyufont anzhiyu-icon-copyright-line"></i></a></div><div id="workboard"><div id="runtimeTextTip"></div></div><div id="anzhiyu-footer"><div class="footer-group"><div class="footer-title">服务</div><div class="footer-links"><a class="footer-item" title="51la统计" target="_blank" rel="noopener" href="https://v6.51.la/">51la统计</a><a class="footer-item" title="十年之约" target="_blank" rel="noopener" href="https://www.foreverblog.cn/">十年之约</a><a class="footer-item" title="开往" target="_blank" rel="noopener" href="https://github.com/travellings-link/travellings">开往</a></div></div><div class="footer-group"><div class="footer-title">主题</div><div class="footer-links"><a class="footer-item" title="文档" href="/docs/">文档</a><a class="footer-item" title="源码" target="_blank" rel="noopener" href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu">源码</a><a class="footer-item" title="更新日志" href="/update/">更新日志</a></div></div><div class="footer-group"><div class="footer-title">导航</div><div class="footer-links"><a class="footer-item" title="即刻短文" href="/essay/">即刻短文</a><a class="footer-item" title="友链文章" href="/fcircle/">友链文章</a><a class="footer-item" title="留言板" href="/comments/">留言板</a></div></div><div class="footer-group"><div class="footer-title">协议</div><div class="footer-links"><a class="footer-item" title="隐私协议" href="/privacy/">隐私协议</a><a class="footer-item" title="Cookies" href="/cookies/">Cookies</a><a class="footer-item" title="版权协议" href="/copyright/">版权协议</a></div></div><div class="footer-group"><div class="footer-title-group"><div class="footer-title">友链</div><a class="random-friends-btn" id="footer-random-friends-btn" href="javascript:addFriendLinksInFooter();" title="换一批友情链接"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right"></i></a></div><div class="footer-links" id="friend-links-in-footer"></div></div></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" data-title="博客框架为Hexo_v5.4.0" title="博客框架为Hexo_v5.4.0"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.1.5/img/badge/Frame-Hexo.svg" alt="博客框架为Hexo_v5.4.0"/></a><a class="github-badge" target="_blank" href="https://hexo.anheyu.com/" style="margin-inline:5px" data-title="本站使用AnZhiYu主题" title="本站使用AnZhiYu主题"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.9/img/Theme-AnZhiYu-2E67D3.svg" alt="本站使用AnZhiYu主题"/></a><a class="github-badge" target="_blank" href="https://www.dogecloud.com/" style="margin-inline:5px" data-title="本站使用多吉云为静态资源提供CDN加速" title="本站使用多吉云为静态资源提供CDN加速"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.2.0/img/badge/CDN-多吉云-3693F3.svg" alt="本站使用多吉云为静态资源提供CDN加速"/></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" data-title="本站项目由Github托管" title="本站项目由Github托管"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.1.5/img/badge/Source-Github.svg" alt="本站项目由Github托管"/></a><a class="github-badge" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" style="margin-inline:5px" data-title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可" title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.2.0/img/badge/Copyright-BY-NC-SA.svg" alt="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"/></a></p></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"><div class="copyright">&copy;2018 - 2026 By <a class="footer-bar-link" href="/" title="Ramsayi" target="_blank">Ramsayi</a></div></div><div id="footer-type-tips"></div><div class="js-pjax"><script>function subtitleType () {
  getScript('https://sdk.jinrishici.com/v2/browser/jinrishici.js').then(() => {
    jinrishici.load(result =>{
      if (true) {
        const sub = []
        const content = result.data.content
        sub.unshift(content)
        window.typed = new Typed('#footer-type-tips', {
          strings: sub,
          startDelay: 300,
          typeSpeed: 150,
          loop: true,
          backSpeed: 50,
        })
      } else {
        document.getElementById('footer-type-tips').innerHTML = result.data.content
      }
    })
  })
}

if (true) {
  if (typeof Typed === 'function') {
    subtitleType()
  } else {
    getScript('https://cdn.cbd.int/typed.js@2.1.0/dist/typed.umd.js').then(subtitleType)
  }
} else {
  subtitleType()
}
</script></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu" title="主题">主题</a><a class="footer-bar-link" target="_blank" rel="noopener" href="https://image.anheyu.com" title="图床">图床</a><a class="footer-bar-link cc" href="/copyright" title="CC协议"><i class="anzhiyufont anzhiyu-icon-copyright-line"></i><i class="anzhiyufont anzhiyu-icon-creative-commons-by-line"></i><i class="anzhiyufont anzhiyu-icon-creative-commons-nc-line"></i><i class="anzhiyufont anzhiyu-icon-creative-commons-nd-line"></i></a></div></div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">156</div></a><a href="/tags/" title="tag"><div class="headline">标签</div><div class="length-num">49</div></a><a href="/categories/" title="category"><div class="headline">分类</div><div class="length-num">25</div></a></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="显示模式"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>显示模式</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" href="https://ramsayi.github.io/" title="博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="博客"/><span class="back-menu-item-text">博客</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://aabbk.github.io" title="网址导航"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="网址导航"/><span class="back-menu-item-text">网址导航</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://scabet.github.io" title="Scabet"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="Scabet"/><span class="back-menu-item-text">Scabet</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://aabbt.github.io/" title="Aabbt"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="Aabbt"/><span class="back-menu-item-text">Aabbt</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://swclub.github.io/" title="SWClub"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="SWClub"/><span class="back-menu-item-text">SWClub</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://image.anheyu.com/" title="安知鱼图床"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image.anheyu.com/favicon.ico" alt="安知鱼图床"/><span class="back-menu-item-text">安知鱼图床</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://aabbs.github.io/" title="花里胡哨"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://blog.anheyu.com/favicon.ico" alt="花里胡哨"/><span class="back-menu-item-text">花里胡哨</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 归档</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 友链</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 友人帐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/fcircle/"><i class="anzhiyufont anzhiyu-icon-artstation faa-tada" style="font-size: 0.9em;"></i><span> 朋友圈</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> 留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/?id=13912531641&amp;server=netease"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/bangumis/"><i class="anzhiyufont anzhiyu-icon-bilibili faa-tada" style="font-size: 0.9em;"></i><span> 追番页</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册集</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/aircondition/"><i class="anzhiyufont anzhiyu-icon-fan faa-tada" style="font-size: 0.9em;"></i><span> 小空调</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/equipment/"><i class="anzhiyufont anzhiyu-icon-dice-d20 faa-tada" style="font-size: 0.9em;"></i><span> 我的装备</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/techstack/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 技术栈</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/Axios/" style="font-size: 0.88rem;">Axios<sup>1</sup></a><a href="/tags/Bilibili/" style="font-size: 0.88rem;">Bilibili<sup>1</sup></a><a href="/tags/C/" style="font-size: 0.88rem;">C++<sup>39</sup></a><a href="/tags/CSS/" style="font-size: 0.88rem;">CSS<sup>9</sup></a><a href="/tags/Curl/" style="font-size: 0.88rem;">Curl<sup>1</sup></a><a href="/tags/Dart/" style="font-size: 0.88rem;">Dart<sup>2</sup></a><a href="/tags/ECharts/" style="font-size: 0.88rem;">ECharts<sup>4</sup></a><a href="/tags/ENVI/" style="font-size: 0.88rem;">ENVI<sup>3</sup></a><a href="/tags/ESLint/" style="font-size: 0.88rem;">ESLint<sup>1</sup></a><a href="/tags/Excel/" style="font-size: 0.88rem;">Excel<sup>1</sup></a><a href="/tags/FFmpeg/" style="font-size: 0.88rem;">FFmpeg<sup>1</sup></a><a href="/tags/Flutter/" style="font-size: 0.88rem;">Flutter<sup>2</sup></a><a href="/tags/Getx/" style="font-size: 0.88rem;">Getx<sup>1</sup></a><a href="/tags/Git/" style="font-size: 0.88rem;">Git<sup>2</sup></a><a href="/tags/GitKraken/" style="font-size: 0.88rem;">GitKraken<sup>1</sup></a><a href="/tags/HTML/" style="font-size: 0.88rem;">HTML<sup>9</sup></a><a href="/tags/Hexo/" style="font-size: 0.88rem;">Hexo<sup>3</sup></a><a href="/tags/Husky/" style="font-size: 0.88rem;">Husky<sup>1</sup></a><a href="/tags/JavaScript/" style="font-size: 0.88rem;">JavaScript<sup>7</sup></a><a href="/tags/Jupyter/" style="font-size: 0.88rem;">Jupyter<sup>1</sup></a><a href="/tags/Markdown/" style="font-size: 0.88rem;">Markdown<sup>1</sup></a><a href="/tags/OneDrive/" style="font-size: 0.88rem;">OneDrive<sup>1</sup></a><a href="/tags/Preitter/" style="font-size: 0.88rem;">Preitter<sup>1</sup></a><a href="/tags/Python/" style="font-size: 0.88rem;">Python<sup>33</sup></a><a href="/tags/React/" style="font-size: 0.88rem;">React<sup>9</sup></a><a href="/tags/SARscape/" style="font-size: 0.88rem;">SARscape<sup>3</sup></a><a href="/tags/Ubuntu/" style="font-size: 0.88rem;">Ubuntu<sup>2</sup></a><a href="/tags/VMware/" style="font-size: 0.88rem;">VMware<sup>1</sup></a><a href="/tags/VSCode/" style="font-size: 0.88rem;">VSCode<sup>1</sup></a><a href="/tags/Vim/" style="font-size: 0.88rem;">Vim<sup>1</sup></a><a href="/tags/Windows/" style="font-size: 0.88rem;">Windows<sup>3</sup></a><a href="/tags/You-Get/" style="font-size: 0.88rem;">You-Get<sup>1</sup></a><a href="/tags/npm/" style="font-size: 0.88rem;">npm<sup>1</sup></a><a href="/tags/%E4%B8%96%E7%95%8C%E5%8D%A1%E8%BD%A6%E6%A8%A1%E6%8B%9F/" style="font-size: 0.88rem;">世界卡车模拟<sup>1</sup></a><a href="/tags/%E5%8D%9A%E5%AE%A2/" style="font-size: 0.88rem;">博客<sup>5</sup></a><a href="/tags/%E5%BF%AB%E6%8D%B7%E9%94%AE/" style="font-size: 0.88rem;">快捷键<sup>1</sup></a><a href="/tags/%E6%B8%B8%E6%88%8F/" style="font-size: 0.88rem;">游戏<sup>1</sup></a><a href="/tags/%E7%88%AC%E8%99%AB/" style="font-size: 0.88rem;">爬虫<sup>1</sup></a><a href="/tags/%E7%BB%88%E7%AB%AF/" style="font-size: 0.88rem;">终端<sup>6</sup></a><a href="/tags/%E8%99%9A%E6%8B%9F%E6%9C%BA/" style="font-size: 0.88rem;">虚拟机<sup>1</sup></a></div></div><hr/></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="anzhiyufont anzhiyu-icon-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">播放音乐</a><div id="console-music-bg"></div><meting-js id="13883942641" server="netease" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random" volume="0.7"></meting-js></div><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><button class="search-close-button"><i class="anzhiyufont anzhiyu-icon-xmark"></i></button></nav><div class="search-wrap"><div id="algolia-search-input"></div><hr/><div id="algolia-search-results"><div id="algolia-hits"><a class="tag-list" href="/tags/JavaScript" title="JavaScript">JavaScript</a><a class="tag-list" href="/tags/Hexo" title="Hexo">Hexo</a></div><div id="algolia-pagination"></div><div id="algolia-info"><div class="algolia-stats"></div><div class="algolia-poweredBy"></div></div></div></div></div><div id="search-mask"></div></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://music.163.com/playlist?id=13883942641&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@6.1.6/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@19.1.3/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script async src="/anzhiyu/random.js"></script><script async="async">(function () {
  var grt = new Date("01/01/2018 00:00:00"); //设置网站上线时间
  var now = new Date();
  var dnum;
  var hnum;
  var mnum;
  var snum;
  var nowHour;

  // 计算并更新天数、小时数、分钟数和秒数
  function updateTime() {
    now = new Date(); // 更新 now 的值
    nowHour = now.getHours(); // 更新 nowHour 的值
    var days = (now - grt) / 1000 / 60 / 60 / 24;
    dnum = Math.floor(days);
    var hours = (now - grt) / 1000 / 60 / 60 - 24 * dnum;
    hnum = Math.floor(hours);
    if (String(hnum).length == 1) {
      hnum = "0" + hnum;
    }
    var minutes = (now - grt) / 1000 / 60 - 24 * 60 * dnum - 60 * hnum;
    mnum = Math.floor(minutes);
    if (String(mnum).length == 1) {
      mnum = "0" + mnum;
    }
    var seconds = (now - grt) / 1000 - 24 * 60 * 60 * dnum - 60 * 60 * hnum - 60 * mnum;
    snum = Math.round(seconds);
    if (String(snum).length == 1) {
      snum = "0" + snum;
    }
  }

  // 更新网页中显示的网站运行时间
  function updateHtml() {
    const footer = document.getElementById("footer");
    if (!footer) return
    let currentTimeHtml = "";
    if (nowHour < 18 && nowHour >= 9) {
      // 如果是上班时间，默认就是"安知鱼-上班摸鱼中.svg"图片，不需要更改
      currentTimeHtml = `本站居然运行了 ${dnum} 天<span id='runtime'> ${hnum} 小时 ${mnum} 分 ${snum} 秒 </span><i class='anzhiyufont anzhiyu-icon-heartbeat' style='color:red'></i>`;
    } else {
      // 如果是下班时间，插入"安知鱼-下班啦.svg"图片
      let img = document.querySelector("#workboard .workSituationImg");
      if (img != null) {
        img.src = "";
        img.title = "";
        img.alt = "";
      }

      currentTimeHtml = `本站居然运行了 ${dnum} 天<span id='runtime'> ${hnum} 小时 ${mnum} 分 ${snum} 秒 </span><i class='anzhiyufont anzhiyu-icon-heartbeat' style='color:red'></i>`;
    }

    if (document.getElementById("runtimeTextTip")) {
      document.getElementById("runtimeTextTip").innerHTML = currentTimeHtml;
    }
  }

  setInterval(() => {
    updateTime();
    updateHtml();
  }, 1000);
})();</script><script src="https://cdn.cbd.int/algoliasearch@4.18.0/dist/algoliasearch-lite.umd.js"></script><script src="https://cdn.cbd.int/instantsearch.js@4.84.0/dist/instantsearch.production.min.js"></script><script src="/js/search/algolia.js"></script><div class="js-pjax"><script>(() => {
  const initValine = () => {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: 'hYhAkaCoGek8gsKP8H2vLfmS-gzGzoHsz',
      appKey: '8Cxp5qHQuHTnuUIsOuPqWoQk',
      avatar: 'mp',
      serverURLs: '',
      emojiMaps: "",
      path: window.location.pathname,
      visitor: true
    }, null))
  }

  const loadValine = async () => {
    if (typeof Valine === 'function') initValine()
    else {
      await getScript('https://cdn.cbd.int/valine@1.5.1/dist/Valine.min.js')
      initValine()
    }
  }

  if ('Valine' === 'Valine' || !true) {
    if (true) anzhiyu.loadComment(document.getElementById('vcomment'),loadValine)
    else setTimeout(loadValine, 0)
  } else {
    window.loadOtherComment = loadValine
  }
})()</script><input type="hidden" name="page-type" id="page-type" value="post"></div><script src="https://cdn.cbd.int/blueimp-md5@2.19.0/js/md5.min.js"></script><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getIcon = (icon, mail) => {
    if (icon) return icon
    let defaultIcon = '?d=mp'
    let iconUrl = `https://gravatar.loli.net/avatar/${md5(mail.toLowerCase()) + defaultIcon}`
    return iconUrl
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'data-lazy-src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }

        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick} / </span><time datetime="${array[i].date}">${anzhiyu.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom && ($dom.innerHTML= result)
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const getComment = () => {
    const serverURL = 'https://hYhAkaCo.api.lncldglobal.com'

    var settings = {
      "method": "GET",
      "headers": {
        "X-LC-Id": 'hYhAkaCoGek8gsKP8H2vLfmS-gzGzoHsz',
        "X-LC-Key": '8Cxp5qHQuHTnuUIsOuPqWoQk',
        "Content-Type": "application/json"
      },
    }

    fetch(`${serverURL}/1.1/classes/Comment?limit=6&order=-createdAt`,settings)
      .then(response => response.json())
      .then(data => {
        const valineArray = data.results.map(function (e) {
          return {
            'avatar': getIcon(e.QQAvatar, e.mail),
            'content': changeContent(e.comment),
            'nick': e.nick,
            'url': e.url + '#' + e.objectId,
            'date': e.updatedAt,
          }
        })
        saveToLocal.set('valine-newest-comments', JSON.stringify(valineArray), 10/(60*24))
        generateHtml(valineArray)
      }).catch(e => {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.textContent= "无法获取评论，请确认相关配置是否正确"
      }) 
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('valine-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><script async data-pjax src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.1/bubble/bubble.js"></script><script>var visitorMail = "";
</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://cdn.cbd.int/qrcodejs@1.0.0/qrcode.min.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><script src="/inject/custom.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div></body></html>